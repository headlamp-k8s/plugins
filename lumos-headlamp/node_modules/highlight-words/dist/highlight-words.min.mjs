let m=36,f="";for(;m--;)f+=m.toString(36);function u(t=11){let e="",r=t;for(;r--;)e+=f[Math.random()*36|0];return e}const h=t=>t.replace(/[|\\{}()[\]^$+*?.-]/g,e=>`\\${e}`),b=t=>t.replace(/\s{2,}/g," ").split(" ").join("|"),E=({terms:t,matchExactly:e=!1})=>{if(typeof t!="string")throw new TypeError("Expected a string");const r=h(t.trim());return`(${e?r:b(r)})`},w=({terms:t,matchExactly:e=!1})=>{try{const r=/^([/~@;%#'])(.*?)\1([gimsuy]*)$/.exec(t);return r?new RegExp(r[2],r[3]):new RegExp(E({terms:t,matchExactly:e}),"ig")}catch{throw new TypeError("Expected terms to be either a string or a RegExp!")}},j=t=>e=>e!==null&&typeof e=="object"&&t in e,p=j("match"),l=t=>typeof t<"u";function v({curr:t,next:e,prev:r,clipBy:n=3}){const o=t.text.split(" "),a=o.length;if(t.match||n>=a)return t.text;const c="...";return l(e)&&l(r)&&p(r)&&p(e)?a>n*2?[...o.slice(0,n),c,...o.slice(-n)].join(" "):t.text:l(e)&&p(e)?[c,...o.slice(-n)].join(" "):l(r)&&p(r)?[...o.slice(0,n),c].join(" "):t.text}var d=Object.defineProperty,O=Object.defineProperties,$=Object.getOwnPropertyDescriptors,x=Object.getOwnPropertySymbols,P=Object.prototype.hasOwnProperty,R=Object.prototype.propertyIsEnumerable,g=(t,e,r)=>e in t?d(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,i=(t,e)=>{for(var r in e||(e={}))P.call(e,r)&&g(t,r,e[r]);if(x)for(var r of x(e))R.call(e,r)&&g(t,r,e[r]);return t},B=(t,e)=>O(t,$(e));const C=t=>t.length>0,k=({text:t,query:e,clipBy:r,matchExactly:n=!1})=>{const o=typeof e=="string"?e.trim():e;if(o==="")return[{key:u(),text:t,match:!1}];const a=w({terms:e,matchExactly:n});return t.split(a).filter(C).map(c=>({key:u(),text:c,match:n?c.toLowerCase()===o.toLowerCase():a.test(c)})).map((c,s,y)=>i(i({},c),typeof r=="number"&&{text:v(B(i(i({curr:c},s<y.length-1&&{next:y[s+1]}),s>0&&{prev:y[s-1]}),{clipBy:r}))}))};export{k as default};
//# sourceMappingURL=highlight-words.min.mjs.map
