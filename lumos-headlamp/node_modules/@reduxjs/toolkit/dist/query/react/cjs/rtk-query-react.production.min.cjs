"use strict";var he=Object.create;var W=Object.defineProperty;var Ue=Object.getOwnPropertyDescriptor;var Ie=Object.getOwnPropertyNames;var be=Object.getPrototypeOf,Ee=Object.prototype.hasOwnProperty;var ke=(e,s)=>{for(var c in s)W(e,c,{get:s[c],enumerable:!0})},j=(e,s,c,T)=>{if(s&&typeof s=="object"||typeof s=="function")for(let R of Ie(s))!Ee.call(e,R)&&R!==c&&W(e,R,{get:()=>s[R],enumerable:!(T=Ue(s,R))||T.enumerable});return e},M=(e,s,c)=>(j(e,s,"default"),c&&j(c,s,"default")),Me=(e,s,c)=>(c=e!=null?he(be(e)):{},j(s||!e||!e.__esModule?W(c,"default",{value:e,enumerable:!0}):c,e)),Oe=e=>j(W({},"__esModule",{value:!0}),e);var b={};ke(b,{ApiProvider:()=>Ae,UNINITIALIZED_VALUE:()=>H,createApi:()=>He,reactHooksModule:()=>de,reactHooksModuleName:()=>ce});module.exports=Oe(b);var ee=require("@reduxjs/toolkit/query");var et=require("@reduxjs/toolkit"),O=require("react-redux"),De=require("reselect");function V(e){return e.replace(e[0],e[0].toUpperCase())}function Qe(e){return e.type==="query"}function le(e){return e.type==="mutation"}function $(e){return e.type==="infinitequery"}function w(e,...s){return Object.assign(e,...s)}var Te=require("@reduxjs/toolkit"),B=require("@reduxjs/toolkit/query"),n=require("react"),Z=require("react-redux");var H=Symbol();var z=require("react");function oe(e,s,c,T){let R=(0,z.useMemo)(()=>({queryArgs:e,serialized:typeof e=="object"?s({queryArgs:e,endpointDefinition:c,endpointName:T}):e}),[e,s,c,T]),D=(0,z.useRef)(R);return(0,z.useEffect)(()=>{D.current.serialized!==R.serialized&&(D.current=R)},[R]),D.current.serialized===R.serialized?D.current.queryArgs:e}var G=require("react"),ye=require("react-redux");function _(e){let s=(0,G.useRef)(e);return(0,G.useEffect)(()=>{(0,ye.shallowEqual)(s.current,e)||(s.current=e)},[e]),(0,ye.shallowEqual)(s.current,e)?s.current:e}var Fe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ve=Fe(),Le=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Ne=Le(),Ce=()=>ve||Ne?n.useLayoutEffect:n.useEffect,we=Ce(),ge=e=>e.isUninitialized?{...e,isUninitialized:!1,isFetching:!0,isLoading:e.data===void 0,status:B.QueryStatus.pending}:e;function pe(e,...s){let c={};return s.forEach(T=>{c[T]=e[T]}),c}var fe=["data","status","isLoading","isSuccess","isError","error"];function Re({api:e,moduleOptions:{batch:s,hooks:{useDispatch:c,useSelector:T,useStore:R},unstable__sideEffectsInRender:D,createSelector:N},serializeQueryArgs:I,context:h}){let E=D?t=>t():n.useEffect;return{buildQueryHooks:q,buildInfiniteQueryHooks:ie,buildMutationHook:se,usePrefetch:re};function te(t,u,d){if(u?.endpointName&&t.isUninitialized){let{endpointName:y}=u,p=h.endpointDefinitions[y];d!==B.skipToken&&I({queryArgs:u.originalArgs,endpointDefinition:p,endpointName:y})===I({queryArgs:d,endpointDefinition:p,endpointName:y})&&(u=void 0)}let a=t.isSuccess?t.data:u?.data;a===void 0&&(a=t.data);let o=a!==void 0,r=t.isLoading,i=(!u||u.isLoading||u.isUninitialized)&&!o&&r,f=t.isSuccess||o&&(r&&!u?.isError||t.isUninitialized);return{...t,data:a,currentData:t.data,isFetching:r,isLoading:i,isSuccess:f}}function ne(t,u,d){if(u?.endpointName&&t.isUninitialized){let{endpointName:y}=u,p=h.endpointDefinitions[y];I({queryArgs:u.originalArgs,endpointDefinition:p,endpointName:y})===I({queryArgs:d,endpointDefinition:p,endpointName:y})&&(u=void 0)}let a=t.isSuccess?t.data:u?.data;a===void 0&&(a=t.data);let o=a!==void 0,r=t.isLoading,i=(!u||u.isLoading||u.isUninitialized)&&!o&&r,f=t.isSuccess||r&&o;return{...t,data:a,currentData:t.data,isFetching:r,isLoading:i,isSuccess:f}}function re(t,u){let d=c(),a=_(u);return(0,n.useCallback)((o,r)=>d(e.util.prefetch(t,o,{...a,...r})),[t,d,a])}function m(t,u,{refetchOnReconnect:d,refetchOnFocus:a,refetchOnMountOrArgChange:o,skip:r=!1,pollingInterval:i=0,skipPollingIfUnfocused:f=!1,...y}={}){let{initiate:p}=e.endpoints[t],l=c(),S=(0,n.useRef)(void 0);if(!S.current){let L=l(e.internalActions.internal_getRTKQSubscriptions());S.current=L}let Q=oe(r?B.skipToken:u,B.defaultSerializeQueryArgs,h.endpointDefinitions[t],t),g=_({refetchOnReconnect:d,refetchOnFocus:a,pollingInterval:i,skipPollingIfUnfocused:f}),A=(0,n.useRef)(!1),U=y.initialPageParam,k=_(U),x=(0,n.useRef)(void 0),{queryCacheKey:v,requestId:K}=x.current||{},ue=!1;v&&K&&(ue=S.current.isRequestSubscribed(v,K));let ae=!ue&&A.current;return E(()=>{A.current=ue}),E(()=>{ae&&(x.current=void 0)},[ae]),E(()=>{let L=x.current;if(typeof process<"u",Q===B.skipToken){L?.unsubscribe(),x.current=void 0;return}let Pe=x.current?.subscriptionOptions;if(!L||L.arg!==Q){L?.unsubscribe();let Be=l(p(Q,{subscriptionOptions:g,forceRefetch:o,...$(h.endpointDefinitions[t])?{initialPageParam:k}:{}}));x.current=Be}else g!==Pe&&L.updateSubscriptionOptions(g)},[l,p,o,Q,g,ae,k,t]),[x,l,p,g]}function C(t,u){return(a,{skip:o=!1,selectFromResult:r}={})=>{let{select:i}=e.endpoints[t],f=oe(o?B.skipToken:a,I,h.endpointDefinitions[t],t),y=(0,n.useRef)(void 0),p=(0,n.useMemo)(()=>N([i(f),(A,U)=>U,A=>f],u,{memoizeOptions:{resultEqualityCheck:Z.shallowEqual}}),[i,f]),l=(0,n.useMemo)(()=>r?N([p],r,{devModeChecks:{identityFunctionCheck:"never"}}):p,[p,r]),S=T(A=>l(A,y.current),Z.shallowEqual),Q=R(),g=p(Q.getState(),y.current);return we(()=>{y.current=g},[g]),S}}function P(t){(0,n.useEffect)(()=>()=>{t.current?.unsubscribe?.(),t.current=void 0},[t])}function F(t){if(!t.current)throw new Error((0,Te.formatProdErrorMessage)(38));return t.current.refetch()}function q(t){let u=(o,r={})=>{let[i]=m(t,o,r);return P(i),(0,n.useMemo)(()=>({refetch:()=>F(i)}),[i])},d=({refetchOnReconnect:o,refetchOnFocus:r,pollingInterval:i=0,skipPollingIfUnfocused:f=!1}={})=>{let{initiate:y}=e.endpoints[t],p=c(),[l,S]=(0,n.useState)(H),Q=(0,n.useRef)(void 0),g=_({refetchOnReconnect:o,refetchOnFocus:r,pollingInterval:i,skipPollingIfUnfocused:f});E(()=>{let x=Q.current?.subscriptionOptions;g!==x&&Q.current?.updateSubscriptionOptions(g)},[g]);let A=(0,n.useRef)(g);E(()=>{A.current=g},[g]);let U=(0,n.useCallback)(function(x,v=!1){let K;return s(()=>{Q.current?.unsubscribe(),Q.current=K=p(y(x,{subscriptionOptions:A.current,forceRefetch:!v})),S(x)}),K},[p,y]),k=(0,n.useCallback)(()=>{Q.current?.queryCacheKey&&p(e.internalActions.removeQueryResult({queryCacheKey:Q.current?.queryCacheKey}))},[p]);return(0,n.useEffect)(()=>()=>{Q?.current?.unsubscribe()},[]),(0,n.useEffect)(()=>{l!==H&&!Q.current&&U(l,!0)},[l,U]),(0,n.useMemo)(()=>[U,l,{reset:k}],[U,l,k])},a=C(t,te);return{useQueryState:a,useQuerySubscription:u,useLazyQuerySubscription:d,useLazyQuery(o){let[r,i,{reset:f}]=d(o),y=a(i,{...o,skip:i===H}),p=(0,n.useMemo)(()=>({lastArg:i}),[i]);return(0,n.useMemo)(()=>[r,{...y,reset:f},p],[r,y,f,p])},useQuery(o,r){let i=u(o,r),f=a(o,{selectFromResult:o===B.skipToken||r?.skip?void 0:ge,...r}),y=pe(f,...fe);return(0,n.useDebugValue)(y),(0,n.useMemo)(()=>({...f,...i}),[f,i])}}}function ie(t){let u=(a,o={})=>{let[r,i,f,y]=m(t,a,o),p=(0,n.useRef)(y);E(()=>{p.current=y},[y]);let l=(0,n.useCallback)(function(S,Q){let g;return s(()=>{r.current?.unsubscribe(),r.current=g=i(f(S,{subscriptionOptions:p.current,direction:Q}))}),g},[r,i,f]);return P(r),(0,n.useMemo)(()=>({trigger:l,refetch:()=>F(r),fetchNextPage:()=>l(a,"forward"),fetchPreviousPage:()=>l(a,"backward")}),[r,l,a])},d=C(t,ne);return{useInfiniteQueryState:d,useInfiniteQuerySubscription:u,useInfiniteQuery(a,o){let{refetch:r,fetchNextPage:i,fetchPreviousPage:f}=u(a,o),y=d(a,{selectFromResult:a===B.skipToken||o?.skip?void 0:ge,...o}),p=pe(y,...fe,"hasNextPage","hasPreviousPage");return(0,n.useDebugValue)(p),(0,n.useMemo)(()=>({...y,fetchNextPage:i,fetchPreviousPage:f,refetch:r}),[y,i,f,r])}}}function se(t){return({selectFromResult:u,fixedCacheKey:d}={})=>{let{select:a,initiate:o}=e.endpoints[t],r=c(),[i,f]=(0,n.useState)();(0,n.useEffect)(()=>()=>{i?.arg.fixedCacheKey||i?.reset()},[i]);let y=(0,n.useCallback)(function(x){let v=r(o(x,{fixedCacheKey:d}));return f(v),v},[r,o,d]),{requestId:p}=i||{},l=(0,n.useMemo)(()=>a({fixedCacheKey:d,requestId:i?.requestId}),[d,i,a]),S=(0,n.useMemo)(()=>u?N([l],u):l,[u,l]),Q=T(S,Z.shallowEqual),g=d==null?i?.arg.originalArgs:void 0,A=(0,n.useCallback)(()=>{s(()=>{i&&f(void 0),d&&r(e.internalActions.removeMutationResult({requestId:p,fixedCacheKey:d}))})},[r,d,i,p]),U=pe(Q,...fe,"endpointName");(0,n.useDebugValue)(U);let k=(0,n.useMemo)(()=>({...Q,originalArgs:g,reset:A}),[Q,g,A]);return(0,n.useMemo)(()=>[y,k],[y,k])}}}var ce=Symbol(),de=({batch:e=O.batch,hooks:s={useDispatch:O.useDispatch,useSelector:O.useSelector,useStore:O.useStore},createSelector:c=De.createSelector,unstable__sideEffectsInRender:T=!1,...R}={})=>({name:ce,init(D,{serializeQueryArgs:N},I){let h=D,{buildQueryHooks:E,buildInfiniteQueryHooks:te,buildMutationHook:ne,usePrefetch:re}=Re({api:D,moduleOptions:{batch:e,hooks:s,unstable__sideEffectsInRender:T,createSelector:c},serializeQueryArgs:N,context:I});return w(h,{usePrefetch:re}),w(I,{batch:e}),{injectEndpoint(m,C){if(Qe(C)){let{useQuery:P,useLazyQuery:F,useLazyQuerySubscription:q,useQueryState:ie,useQuerySubscription:se}=E(m);w(h.endpoints[m],{useQuery:P,useLazyQuery:F,useLazyQuerySubscription:q,useQueryState:ie,useQuerySubscription:se}),D[`use${V(m)}Query`]=P,D[`useLazy${V(m)}Query`]=F}if(le(C)){let P=ne(m);w(h.endpoints[m],{useMutation:P}),D[`use${V(m)}Mutation`]=P}else if($(C)){let{useInfiniteQuery:P,useInfiniteQuerySubscription:F,useInfiniteQueryState:q}=te(m);w(h.endpoints[m],{useInfiniteQuery:P,useInfiniteQuerySubscription:F,useInfiniteQueryState:q}),D[`use${V(m)}InfiniteQuery`]=P}}}}});M(b,require("@reduxjs/toolkit/query"),module.exports);var Y=require("@reduxjs/toolkit"),xe=require("react"),me=require("react"),J=Me(require("react")),X=require("react-redux"),Se=require("@reduxjs/toolkit/query");function Ae(e){let s=e.context||X.ReactReduxContext;if((0,xe.useContext)(s))throw new Error((0,Y.formatProdErrorMessage)(35));let[T]=J.useState(()=>(0,Y.configureStore)({reducer:{[e.api.reducerPath]:e.api.reducer},middleware:R=>R().concat(e.api.middleware)}));return(0,me.useEffect)(()=>e.setupListeners===!1?void 0:(0,Se.setupListeners)(T.dispatch,e.setupListeners),[e.setupListeners,T.dispatch]),J.createElement(X.Provider,{store:T,context:s},e.children)}var He=(0,ee.buildCreateApi)((0,ee.coreModule)(),de());0&&(module.exports={ApiProvider,UNINITIALIZED_VALUE,createApi,reactHooksModule,reactHooksModuleName,...require("@reduxjs/toolkit/query")});
//# sourceMappingURL=rtk-query-react.production.min.cjs.map