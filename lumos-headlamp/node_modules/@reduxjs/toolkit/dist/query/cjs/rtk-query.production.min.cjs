"use strict";var be=Object.defineProperty;var xt=Object.getOwnPropertyDescriptor;var Rt=Object.getOwnPropertyNames;var Dt=Object.prototype.hasOwnProperty;var St=(e,n)=>{for(var p in n)be(e,p,{get:n[p],enumerable:!0})},bt=(e,n,p,T)=>{if(n&&typeof n=="object"||typeof n=="function")for(let c of Rt(n))!Dt.call(e,c)&&c!==p&&be(e,c,{get:()=>n[c],enumerable:!(T=xt(n,c))||T.enumerable});return e};var Pt=e=>bt(be({},"__esModule",{value:!0}),e);var qt={};St(qt,{QueryStatus:()=>fe,_NEVER:()=>it,buildCreateApi:()=>xe,copyWithStructuralSharing:()=>ae,coreModule:()=>Re,coreModuleName:()=>ce,createApi:()=>Tt,defaultSerializeQueryArgs:()=>pe,fakeBaseQuery:()=>at,fetchBaseQuery:()=>Ue,retry:()=>je,setupListeners:()=>He,skipToken:()=>de});module.exports=Pt(qt);var fe=(c=>(c.uninitialized="uninitialized",c.pending="pending",c.fulfilled="fulfilled",c.rejected="rejected",c))(fe||{});function Pe(e){return{status:e,isUninitialized:e==="uninitialized",isLoading:e==="pending",isSuccess:e==="fulfilled",isError:e==="rejected"}}var i=require("@reduxjs/toolkit");var Ce=i.isPlainObject;function ae(e,n){if(e===n||!(Ce(e)&&Ce(n)||Array.isArray(e)&&Array.isArray(n)))return n;let p=Object.keys(n),T=Object.keys(e),c=p.length===T.length,S=Array.isArray(n)?[]:{};for(let A of p)S[A]=ae(e[A],n[A]),c&&(c=e[A]===S[A]);return c?e:S}function V(e){let n=0;for(let p in e)n++;return n}var Ee=e=>[].concat(...e);function ve(e){return new RegExp("(^|:)//").test(e)}function Fe(){return typeof document>"u"?!0:document.visibilityState!=="hidden"}function Y(e){return e!=null}function we(){return typeof navigator>"u"||navigator.onLine===void 0?!0:navigator.onLine}var Et=e=>e.replace(/\/$/,""),It=e=>e.replace(/^\//,"");function Oe(e,n){if(!e)return n;if(!n)return e;if(ve(n))return n;let p=e.endsWith("/")||!n.startsWith("?")?"/":"";return e=Et(e),n=It(n),`${e}${p}${n}`}function Ne(e,n,p){return e.has(n)?e.get(n):e.set(n,p).get(n)}var qe=(...e)=>fetch(...e),kt=e=>e.status>=200&&e.status<=299,Mt=e=>/ion\/(vnd\.api\+)?json/.test(e.get("content-type")||"");function Ke(e){if(!(0,i.isPlainObject)(e))return e;let n={...e};for(let[p,T]of Object.entries(n))T===void 0&&delete n[p];return n}function Ue({baseUrl:e,prepareHeaders:n=h=>h,fetchFn:p=qe,paramsSerializer:T,isJsonContentType:c=Mt,jsonContentType:S="application/json",jsonReplacer:A,timeout:I,responseHandler:M,validateStatus:R,...b}={}){return typeof fetch>"u"&&p===qe&&console.warn("Warning: `fetch` is not available. Please supply a custom `fetchFn` property to use `fetchBaseQuery` on SSR environments."),async(x,o,g)=>{let{getState:E,extra:f,endpoint:u,forced:D,type:l}=o,y,{url:Q,headers:d=new Headers(b.headers),params:r=void 0,responseHandler:t=M??"json",validateStatus:s=R??kt,timeout:a=I,...m}=typeof x=="string"?{url:x}:x,P,B=o.signal;a&&(P=new AbortController,o.signal.addEventListener("abort",P.abort),B=P.signal);let v={...b,signal:B,...m};d=new Headers(Ke(d)),v.headers=await n(d,{getState:E,arg:x,extra:f,endpoint:u,forced:D,type:l,extraOptions:g})||d;let k=F=>typeof F=="object"&&((0,i.isPlainObject)(F)||Array.isArray(F)||typeof F.toJSON=="function");if(!v.headers.has("content-type")&&k(v.body)&&v.headers.set("content-type",S),k(v.body)&&c(v.headers)&&(v.body=JSON.stringify(v.body,A)),r){let F=~Q.indexOf("?")?"&":"?",N=T?T(r):new URLSearchParams(Ke(r));Q+=F+N}Q=Oe(e,Q);let C=new Request(Q,v);y={request:new Request(Q,v)};let w,L=!1,j=P&&setTimeout(()=>{L=!0,P.abort()},a);try{w=await p(C)}catch(F){return{error:{status:L?"TIMEOUT_ERROR":"FETCH_ERROR",error:String(F)},meta:y}}finally{j&&clearTimeout(j),P?.signal.removeEventListener("abort",P.abort)}let H=w.clone();y.response=H;let K,q="";try{let F;if(await Promise.all([h(w,t).then(N=>K=N,N=>F=N),H.text().then(N=>q=N,()=>{})]),F)throw F}catch(F){return{error:{status:"PARSING_ERROR",originalStatus:w.status,data:q,error:String(F)},meta:y}}return s(w,K)?{data:K,meta:y}:{error:{status:w.status,data:K},meta:y}};async function h(x,o){if(typeof o=="function")return o(x);if(o==="content-type"&&(o=c(x.headers)?"json":"text"),o==="json"){let g=await x.text();return g.length?JSON.parse(g):null}return x.text()}}var z=class{constructor(n,p=void 0){this.value=n;this.meta=p}};async function Bt(e=0,n=5){let p=Math.min(e,n),T=~~((Math.random()+.4)*(300<<p));await new Promise(c=>setTimeout(S=>c(S),T))}function Ct(e,n){throw Object.assign(new z({error:e,meta:n}),{throwImmediately:!0})}var Le={},vt=(e,n)=>async(p,T,c)=>{let S=[5,(n||Le).maxRetries,(c||Le).maxRetries].filter(b=>b!==void 0),[A]=S.slice(-1),M={maxRetries:A,backoff:Bt,retryCondition:(b,h,{attempt:x})=>x<=A,...n,...c},R=0;for(;;)try{let b=await e(p,T,c);if(b.error)throw new z(b);return b}catch(b){if(R++,b.throwImmediately){if(b instanceof z)return b.value;throw b}if(b instanceof z&&!M.retryCondition(b.value.error,p,{attempt:R,baseQueryApi:T,extraOptions:c}))return b.value;await M.backoff(R,M.maxRetries)}},je=Object.assign(vt,{fail:Ct});var J=(0,i.createAction)("__rtkq/focused"),Z=(0,i.createAction)("__rtkq/unfocused"),G=(0,i.createAction)("__rtkq/online"),ee=(0,i.createAction)("__rtkq/offline"),Ie=!1;function He(e,n){function p(){let T=()=>e(J()),c=()=>e(Z()),S=()=>e(G()),A=()=>e(ee()),I=()=>{window.document.visibilityState==="visible"?T():c()};return Ie||typeof window<"u"&&window.addEventListener&&(window.addEventListener("visibilitychange",I,!1),window.addEventListener("focus",T,!1),window.addEventListener("online",S,!1),window.addEventListener("offline",A,!1),Ie=!0),()=>{window.removeEventListener("focus",T),window.removeEventListener("visibilitychange",I),window.removeEventListener("online",S),window.removeEventListener("offline",A),Ie=!1}}return n?n(e,{onFocus:J,onFocusLost:Z,onOffline:ee,onOnline:G}):p()}function te(e){return e.type==="query"}function _e(e){return e.type==="mutation"}function ne(e){return e.type==="infinitequery"}function oe(e,n,p,T,c,S){return Ft(e)?e(n,p,T,c).filter(Y).map(me).map(S):Array.isArray(e)?e.map(me).map(S):[]}function Ft(e){return typeof e=="function"}function me(e){return typeof e=="string"?{type:e}:e}var Te=require("immer");var pn=require("@reduxjs/toolkit");function Ve(e,n){return e.catch(n)}var re=Symbol("forceQueryFn"),se=e=>typeof e[re]=="function";function ze({serializeQueryArgs:e,queryThunk:n,infiniteQueryThunk:p,mutationThunk:T,api:c,context:S}){let A=new Map,I=new Map,{unsubscribeQueryResult:M,removeMutationResult:R,updateSubscriptionOptions:b}=c.internalActions;return{buildInitiateQuery:u,buildInitiateInfiniteQuery:D,buildInitiateMutation:l,getRunningQueryThunk:h,getRunningMutationThunk:x,getRunningQueriesThunk:o,getRunningMutationsThunk:g};function h(y,Q){return d=>{let r=S.endpointDefinitions[y],t=e({queryArgs:Q,endpointDefinition:r,endpointName:y});return A.get(d)?.[t]}}function x(y,Q){return d=>I.get(d)?.[Q]}function o(){return y=>Object.values(A.get(y)||{}).filter(Y)}function g(){return y=>Object.values(I.get(y)||{}).filter(Y)}function E(y){}function f(y,Q){let d=(r,{subscribe:t=!0,forceRefetch:s,subscriptionOptions:a,[re]:m,...P}={})=>(B,v)=>{let k=e({queryArgs:r,endpointDefinition:Q,endpointName:y}),C,O={...P,type:"query",subscribe:t,forceRefetch:s,subscriptionOptions:a,endpointName:y,originalArgs:r,queryCacheKey:k,[re]:m};if(te(Q))C=n(O);else{let{direction:U,initialPageParam:ie}=P;C=p({...O,direction:U,initialPageParam:ie})}let w=c.endpoints[y].select(r),L=B(C),j=w(v());let{requestId:H,abort:K}=L,q=j.requestId!==H,F=A.get(B)?.[k],N=()=>w(v()),_=Object.assign(m?L.then(N):q&&!F?Promise.resolve(j):Promise.all([F,L]).then(N),{arg:r,requestId:H,subscriptionOptions:a,queryCacheKey:k,abort:K,async unwrap(){let U=await _;if(U.isError)throw U.error;return U.data},refetch:()=>B(d(r,{subscribe:!1,forceRefetch:!0})),unsubscribe(){t&&B(M({queryCacheKey:k,requestId:H}))},updateSubscriptionOptions(U){_.subscriptionOptions=U,B(b({endpointName:y,requestId:H,queryCacheKey:k,options:U}))}});if(!F&&!q&&!m){let U=Ne(A,B,{});U[k]=_,_.then(()=>{delete U[k],V(U)||A.delete(B)})}return _};return d}function u(y,Q){return f(y,Q)}function D(y,Q){return f(y,Q)}function l(y){return(Q,{track:d=!0,fixedCacheKey:r}={})=>(t,s)=>{let a=T({type:"mutation",endpointName:y,originalArgs:Q,track:d,fixedCacheKey:r}),m=t(a);let{requestId:P,abort:B,unwrap:v}=m,k=Ve(m.unwrap().then(L=>({data:L})),L=>({error:L})),C=()=>{t(R({requestId:P,fixedCacheKey:r}))},O=Object.assign(k,{arg:m.arg,requestId:P,abort:B,unwrap:v,reset:C}),w=I.get(t)||{};return I.set(t,w),w[P]=O,O.then(()=>{delete w[P],V(w)||I.delete(t)}),r&&(w[r]=O,O.then(()=>{w[r]===O&&(delete w[r],V(w)||I.delete(t))})),O}}}function wt(e){return e}var ge=(e={})=>({...e,[i.SHOULD_AUTOBATCH]:!0});function We({reducerPath:e,baseQuery:n,context:{endpointDefinitions:p},serializeQueryArgs:T,api:c,assertTagType:S,selectors:A}){let I=(t,s,a,m)=>(P,B)=>{let v=p[t],k=T({queryArgs:s,endpointDefinition:v,endpointName:t});if(P(c.internalActions.queryResultPatched({queryCacheKey:k,patches:a})),!m)return;let C=c.endpoints[t].select(s)(B()),O=oe(v.providesTags,C.data,void 0,s,{},S);P(c.internalActions.updateProvidedBy({queryCacheKey:k,providedTags:O}))};function M(t,s,a=0){let m=[s,...t];return a&&m.length>a?m.slice(0,-1):m}function R(t,s,a=0){let m=[...t,s];return a&&m.length>a?m.slice(1):m}let b=(t,s,a,m=!0)=>(P,B)=>{let k=c.endpoints[t].select(s)(B()),C={patches:[],inversePatches:[],undo:()=>P(c.util.patchQueryData(t,s,C.inversePatches,m))};if(k.status==="uninitialized")return C;let O;if("data"in k)if((0,Te.isDraftable)(k.data)){let[w,L,j]=(0,Te.produceWithPatches)(k.data,a);C.patches.push(...L),C.inversePatches.push(...j),O=w}else O=a(k.data),C.patches.push({op:"replace",path:[],value:O}),C.inversePatches.push({op:"replace",path:[],value:k.data});return C.patches.length===0||P(c.util.patchQueryData(t,s,C.patches,m)),C},h=(t,s,a)=>m=>m(c.endpoints[t].initiate(s,{subscribe:!1,forceRefetch:!0,[re]:()=>({data:a})})),x=(t,s)=>t.query&&t[s]?t[s]:wt,o=async(t,{signal:s,abort:a,rejectWithValue:m,fulfillWithValue:P,dispatch:B,getState:v,extra:k})=>{let C=p[t.endpointName];try{let O=x(C,"transformResponse"),w={signal:s,abort:a,dispatch:B,getState:v,extra:k,endpoint:t.endpointName,type:t.type,forced:t.type==="query"?g(t,v()):void 0,queryCacheKey:t.type==="query"?t.queryCacheKey:void 0},L=t.type==="query"?t[re]:void 0,j,H=async(q,F,N,_)=>{if(F==null&&q.pages.length)return Promise.resolve({data:q});let U={queryArg:t.originalArgs,pageParam:F},ie=await K(U),$=_?M:R;return{data:{pages:$(q.pages,ie.data,N),pageParams:$(q.pageParams,F,N)}}};async function K(q){let F,{extraOptions:N}=C;if(L?F=L():C.query?F=await n(C.query(q),w,N):F=await C.queryFn(q,w,N,U=>n(U,w,N)),typeof process<"u",F.error)throw new z(F.error,F.meta);let _=await O(F.data,F.meta,q);return{...F,data:_}}if(t.type==="query"&&"infiniteQueryOptions"in C){let{infiniteQueryOptions:q}=C,{maxPages:F=1/0}=q,N,_={pages:[],pageParams:[]},U=A.selectQueryEntry(v(),t.queryCacheKey)?.data,$=g(t,v())&&!t.direction||!U?_:U;if("direction"in t&&t.direction&&$.pages.length){let le=t.direction==="backward",Se=(le?ke:Qe)(q,$);N=await H($,Se,F,le)}else{let{initialPageParam:le=q.initialPageParam}=t,De=U?.pageParams??[],Se=De[0]??le,ht=De.length;N=await H($,Se,F),L&&(N={data:N.data.pages[0]});for(let Be=1;Be<ht;Be++){let At=Qe(q,N.data);N=await H(N.data,At,F)}}j=N}else j=await K(t.originalArgs);return P(j.data,ge({fulfilledTimeStamp:Date.now(),baseQueryMeta:j.meta}))}catch(O){let w=O;if(w instanceof z){let L=x(C,"transformErrorResponse");try{return m(await L(w.value,w.meta,t.originalArgs),ge({baseQueryMeta:w.meta}))}catch(j){w=j}}throw typeof process<"u",console.error(w),w}};function g(t,s){let a=A.selectQueryEntry(s,t.queryCacheKey),m=A.selectConfig(s).refetchOnMountOrArgChange,P=a?.fulfilledTimeStamp,B=t.forceRefetch??(t.subscribe&&m);return B?B===!0||(Number(new Date)-Number(P))/1e3>=B:!1}let E=()=>(0,i.createAsyncThunk)(`${e}/executeQuery`,o,{getPendingMeta({arg:s}){let a=p[s.endpointName];return ge({startedTimeStamp:Date.now(),...ne(a)?{direction:s.direction}:{}})},condition(s,{getState:a}){let m=a(),P=A.selectQueryEntry(m,s.queryCacheKey),B=P?.fulfilledTimeStamp,v=s.originalArgs,k=P?.originalArgs,C=p[s.endpointName],O=s.direction;return se(s)?!0:P?.status==="pending"?!1:g(s,m)||te(C)&&C?.forceRefetch?.({currentArg:v,previousArg:k,endpointState:P,state:m})?!0:!(B&&!O)},dispatchConditionRejection:!0}),f=E(),u=E(),D=(0,i.createAsyncThunk)(`${e}/executeMutation`,o,{getPendingMeta(){return ge({startedTimeStamp:Date.now()})}}),l=t=>"force"in t,y=t=>"ifOlderThan"in t,Q=(t,s,a)=>(m,P)=>{let B=l(a)&&a.force,v=y(a)&&a.ifOlderThan,k=(O=!0)=>{let w={forceRefetch:O,isPrefetch:!0};return c.endpoints[t].initiate(s,w)},C=c.endpoints[t].select(s)(P());if(B)m(k());else if(v){let O=C?.fulfilledTimeStamp;if(!O){m(k());return}(Number(new Date)-Number(new Date(O)))/1e3>=v&&m(k())}else m(k(!1))};function d(t){return s=>s?.meta?.arg?.endpointName===t}function r(t,s){return{matchPending:(0,i.isAllOf)((0,i.isPending)(t),d(s)),matchFulfilled:(0,i.isAllOf)((0,i.isFulfilled)(t),d(s)),matchRejected:(0,i.isAllOf)((0,i.isRejected)(t),d(s))}}return{queryThunk:f,mutationThunk:D,infiniteQueryThunk:u,prefetch:Q,updateQueryData:b,upsertQueryData:h,patchQueryData:I,buildMatchThunkActions:r}}function Qe(e,{pages:n,pageParams:p}){let T=n.length-1;return e.getNextPageParam(n[T],n,p[T],p)}function ke(e,{pages:n,pageParams:p}){return e.getPreviousPageParam?.(n[0],n,p[0],p)}function he(e,n,p,T){return oe(p[e.meta.arg.endpointName][n],(0,i.isFulfilled)(e)?e.payload:void 0,(0,i.isRejectedWithValue)(e)?e.payload:void 0,e.meta.arg.originalArgs,"baseQueryMeta"in e.meta?e.meta.baseQueryMeta:void 0,T)}var Je=require("immer"),ye=require("immer");function Ae(e,n,p){let T=e[n];T&&p(T)}function X(e){return("arg"in e?e.arg.fixedCacheKey:e.fixedCacheKey)??e.requestId}function $e(e,n,p){let T=e[X(n)];T&&p(T)}var ue={};function Ge({reducerPath:e,queryThunk:n,mutationThunk:p,serializeQueryArgs:T,context:{endpointDefinitions:c,apiUid:S,extractRehydrationInfo:A,hasRehydrationInfo:I},assertTagType:M,config:R}){let b=(0,i.createAction)(`${e}/resetApiState`);function h(d,r,t,s){d[r.queryCacheKey]??={status:"uninitialized",endpointName:r.endpointName},Ae(d,r.queryCacheKey,a=>{a.status="pending",a.requestId=t&&a.requestId?a.requestId:s.requestId,r.originalArgs!==void 0&&(a.originalArgs=r.originalArgs),a.startedTimeStamp=s.startedTimeStamp;let m=c[s.arg.endpointName];ne(m)&&"direction"in r&&(a.direction=r.direction)})}function x(d,r,t,s){Ae(d,r.arg.queryCacheKey,a=>{if(a.requestId!==r.requestId&&!s)return;let{merge:m}=c[r.arg.endpointName];if(a.status="fulfilled",m)if(a.data!==void 0){let{fulfilledTimeStamp:P,arg:B,baseQueryMeta:v,requestId:k}=r,C=(0,i.createNextState)(a.data,O=>m(O,t,{arg:B.originalArgs,baseQueryMeta:v,fulfilledTimeStamp:P,requestId:k}));a.data=C}else a.data=t;else a.data=c[r.arg.endpointName].structuralSharing??!0?ae((0,Je.isDraft)(a.data)?(0,ye.original)(a.data):a.data,t):t;delete a.error,a.fulfilledTimeStamp=r.fulfilledTimeStamp})}let o=(0,i.createSlice)({name:`${e}/queries`,initialState:ue,reducers:{removeQueryResult:{reducer(d,{payload:{queryCacheKey:r}}){delete d[r]},prepare:(0,i.prepareAutoBatched)()},cacheEntriesUpserted:{reducer(d,r){for(let t of r.payload){let{queryDescription:s,value:a}=t;h(d,s,!0,{arg:s,requestId:r.meta.requestId,startedTimeStamp:r.meta.timestamp}),x(d,{arg:s,requestId:r.meta.requestId,fulfilledTimeStamp:r.meta.timestamp,baseQueryMeta:{}},a,!0)}},prepare:d=>({payload:d.map(s=>{let{endpointName:a,arg:m,value:P}=s,B=c[a];return{queryDescription:{type:"query",endpointName:a,originalArgs:s.arg,queryCacheKey:T({queryArgs:m,endpointDefinition:B,endpointName:a})},value:P}}),meta:{[i.SHOULD_AUTOBATCH]:!0,requestId:(0,i.nanoid)(),timestamp:Date.now()}})},queryResultPatched:{reducer(d,{payload:{queryCacheKey:r,patches:t}}){Ae(d,r,s=>{s.data=(0,ye.applyPatches)(s.data,t.concat())})},prepare:(0,i.prepareAutoBatched)()}},extraReducers(d){d.addCase(n.pending,(r,{meta:t,meta:{arg:s}})=>{let a=se(s);h(r,s,a,t)}).addCase(n.fulfilled,(r,{meta:t,payload:s})=>{let a=se(t.arg);x(r,t,s,a)}).addCase(n.rejected,(r,{meta:{condition:t,arg:s,requestId:a},error:m,payload:P})=>{Ae(r,s.queryCacheKey,B=>{if(!t){if(B.requestId!==a)return;B.status="rejected",B.error=P??m}})}).addMatcher(I,(r,t)=>{let{queries:s}=A(t);for(let[a,m]of Object.entries(s))(m?.status==="fulfilled"||m?.status==="rejected")&&(r[a]=m)})}}),g=(0,i.createSlice)({name:`${e}/mutations`,initialState:ue,reducers:{removeMutationResult:{reducer(d,{payload:r}){let t=X(r);t in d&&delete d[t]},prepare:(0,i.prepareAutoBatched)()}},extraReducers(d){d.addCase(p.pending,(r,{meta:t,meta:{requestId:s,arg:a,startedTimeStamp:m}})=>{a.track&&(r[X(t)]={requestId:s,status:"pending",endpointName:a.endpointName,startedTimeStamp:m})}).addCase(p.fulfilled,(r,{payload:t,meta:s})=>{s.arg.track&&$e(r,s,a=>{a.requestId===s.requestId&&(a.status="fulfilled",a.data=t,a.fulfilledTimeStamp=s.fulfilledTimeStamp)})}).addCase(p.rejected,(r,{payload:t,error:s,meta:a})=>{a.arg.track&&$e(r,a,m=>{m.requestId===a.requestId&&(m.status="rejected",m.error=t??s)})}).addMatcher(I,(r,t)=>{let{mutations:s}=A(t);for(let[a,m]of Object.entries(s))(m?.status==="fulfilled"||m?.status==="rejected")&&a!==m?.requestId&&(r[a]=m)})}}),E=(0,i.createSlice)({name:`${e}/invalidation`,initialState:ue,reducers:{updateProvidedBy:{reducer(d,r){let{queryCacheKey:t,providedTags:s}=r.payload;for(let a of Object.values(d))for(let m of Object.values(a)){let P=m.indexOf(t);P!==-1&&m.splice(P,1)}for(let{type:a,id:m}of s){let P=(d[a]??={})[m||"__internal_without_id"]??=[];P.includes(t)||P.push(t)}},prepare:(0,i.prepareAutoBatched)()}},extraReducers(d){d.addCase(o.actions.removeQueryResult,(r,{payload:{queryCacheKey:t}})=>{for(let s of Object.values(r))for(let a of Object.values(s)){let m=a.indexOf(t);m!==-1&&a.splice(m,1)}}).addMatcher(I,(r,t)=>{let{provided:s}=A(t);for(let[a,m]of Object.entries(s))for(let[P,B]of Object.entries(m)){let v=(r[a]??={})[P||"__internal_without_id"]??=[];for(let k of B)v.includes(k)||v.push(k)}}).addMatcher((0,i.isAnyOf)((0,i.isFulfilled)(n),(0,i.isRejectedWithValue)(n)),(r,t)=>{let s=he(t,"providesTags",c,M),{queryCacheKey:a}=t.meta.arg;E.caseReducers.updateProvidedBy(r,E.actions.updateProvidedBy({queryCacheKey:a,providedTags:s}))})}}),f=(0,i.createSlice)({name:`${e}/subscriptions`,initialState:ue,reducers:{updateSubscriptionOptions(d,r){},unsubscribeQueryResult(d,r){},internal_getRTKQSubscriptions(){}}}),u=(0,i.createSlice)({name:`${e}/internalSubscriptions`,initialState:ue,reducers:{subscriptionsUpdated:{reducer(d,r){return(0,ye.applyPatches)(d,r.payload)},prepare:(0,i.prepareAutoBatched)()}}}),D=(0,i.createSlice)({name:`${e}/config`,initialState:{online:we(),focused:Fe(),middlewareRegistered:!1,...R},reducers:{middlewareRegistered(d,{payload:r}){d.middlewareRegistered=d.middlewareRegistered==="conflict"||S!==r?"conflict":!0}},extraReducers:d=>{d.addCase(G,r=>{r.online=!0}).addCase(ee,r=>{r.online=!1}).addCase(J,r=>{r.focused=!0}).addCase(Z,r=>{r.focused=!1}).addMatcher(I,r=>({...r}))}}),l=(0,i.combineReducers)({queries:o.reducer,mutations:g.reducer,provided:E.reducer,subscriptions:u.reducer,config:D.reducer}),y=(d,r)=>l(b.match(r)?void 0:d,r),Q={...D.actions,...o.actions,...f.actions,...u.actions,...g.actions,...E.actions,resetApiState:b};return{reducer:y,actions:Q}}var de=Symbol.for("RTKQ/skipToken"),Ze={status:"uninitialized"},Ye=(0,i.createNextState)(Ze,()=>{}),Xe=(0,i.createNextState)(Ze,()=>{});function et({serializeQueryArgs:e,reducerPath:n,createSelector:p}){let T=l=>Ye,c=l=>Xe;return{buildQuerySelector:x,buildInfiniteQuerySelector:o,buildMutationSelector:g,selectInvalidatedBy:E,selectCachedArgsForQuery:f,selectApiState:A,selectQueries:I,selectMutations:R,selectQueryEntry:M,selectConfig:b};function S(l){return{...l,...Pe(l.status)}}function A(l){return l[n]}function I(l){return A(l)?.queries}function M(l,y){return I(l)?.[y]}function R(l){return A(l)?.mutations}function b(l){return A(l)?.config}function h(l,y,Q){return d=>{if(d===de)return p(T,Q);let r=e({queryArgs:d,endpointDefinition:y,endpointName:l});return p(s=>M(s,r)??Ye,Q)}}function x(l,y){return h(l,y,S)}function o(l,y){let{infiniteQueryOptions:Q}=y;function d(r){let t={...r,...Pe(r.status)},{isLoading:s,isError:a,direction:m}=t,P=m==="forward",B=m==="backward";return{...t,hasNextPage:u(Q,t.data),hasPreviousPage:D(Q,t.data),isFetchingNextPage:s&&P,isFetchingPreviousPage:s&&B,isFetchNextPageError:a&&P,isFetchPreviousPageError:a&&B}}return h(l,y,d)}function g(){return l=>{let y;return typeof l=="object"?y=X(l)??de:y=l,p(y===de?c:r=>A(r)?.mutations?.[y]??Xe,S)}}function E(l,y){let Q=l[n],d=new Set;for(let r of y.filter(Y).map(me)){let t=Q.provided[r.type];if(!t)continue;let s=(r.id!==void 0?t[r.id]:Ee(Object.values(t)))??[];for(let a of s)d.add(a)}return Ee(Array.from(d.values()).map(r=>{let t=Q.queries[r];return t?[{queryCacheKey:r,endpointName:t.endpointName,originalArgs:t.originalArgs}]:[]}))}function f(l,y){return Object.values(I(l)).filter(Q=>Q?.endpointName===y&&Q.status!=="uninitialized").map(Q=>Q.originalArgs)}function u(l,y){return y?Qe(l,y)!=null:!1}function D(l,y){return!y||!l.getPreviousPageParam?!1:ke(l,y)!=null}}var nt=require("@reduxjs/toolkit");var tt=WeakMap?new WeakMap:void 0,pe=({endpointName:e,queryArgs:n})=>{let p="",T=tt?.get(n);if(typeof T=="string")p=T;else{let c=JSON.stringify(n,(S,A)=>(A=typeof A=="bigint"?{$bigint:A.toString()}:A,A=(0,i.isPlainObject)(A)?Object.keys(A).sort().reduce((I,M)=>(I[M]=A[M],I),{}):A,A));(0,i.isPlainObject)(n)&&tt?.set(n,c),p=c}return`${e}(${p})`};var Me=require("reselect");function xe(...e){return function(p){let T=(0,Me.weakMapMemoize)(R=>p.extractRehydrationInfo?.(R,{reducerPath:p.reducerPath??"api"})),c={reducerPath:"api",keepUnusedDataFor:60,refetchOnMountOrArgChange:!1,refetchOnFocus:!1,refetchOnReconnect:!1,invalidationBehavior:"delayed",...p,extractRehydrationInfo:T,serializeQueryArgs(R){let b=pe;if("serializeQueryArgs"in R.endpointDefinition){let h=R.endpointDefinition.serializeQueryArgs;b=x=>{let o=h(x);return typeof o=="string"?o:pe({...x,queryArgs:o})}}else p.serializeQueryArgs&&(b=p.serializeQueryArgs);return b(R)},tagTypes:[...p.tagTypes||[]]},S={endpointDefinitions:{},batch(R){R()},apiUid:(0,i.nanoid)(),extractRehydrationInfo:T,hasRehydrationInfo:(0,Me.weakMapMemoize)(R=>T(R)!=null)},A={injectEndpoints:M,enhanceEndpoints({addTagTypes:R,endpoints:b}){if(R)for(let h of R)c.tagTypes.includes(h)||c.tagTypes.push(h);if(b)for(let[h,x]of Object.entries(b))typeof x=="function"?x(S.endpointDefinitions[h]):Object.assign(S.endpointDefinitions[h]||{},x);return A}},I=e.map(R=>R.init(A,c,S));function M(R){let b=R.endpoints({query:h=>({...h,type:"query"}),mutation:h=>({...h,type:"mutation"}),infiniteQuery:h=>({...h,type:"infinitequery"})});for(let[h,x]of Object.entries(b)){if(R.overrideExisting!==!0&&h in S.endpointDefinitions){if(R.overrideExisting==="throw")throw new Error((0,nt.formatProdErrorMessage)(39));typeof process<"u";continue}typeof process<"u",S.endpointDefinitions[h]=x;for(let o of I)o.injectEndpoint(h,x)}return A}return A.injectEndpoints({endpoints:p.endpoints})}}var rt=require("@reduxjs/toolkit"),it=Symbol();function at(){return function(){throw new Error((0,rt.formatProdErrorMessage)(33))}}var Qt=require("immer");function W(e,...n){return Object.assign(e,...n)}var ot=require("immer");var st=({api:e,queryThunk:n,internalState:p})=>{let T=`${e.reducerPath}/subscriptions`,c=null,S=null,{updateSubscriptionOptions:A,unsubscribeQueryResult:I}=e.internalActions,M=(o,g)=>{if(A.match(g)){let{queryCacheKey:f,requestId:u,options:D}=g.payload;return o?.[f]?.[u]&&(o[f][u]=D),!0}if(I.match(g)){let{queryCacheKey:f,requestId:u}=g.payload;return o[f]&&delete o[f][u],!0}if(e.internalActions.removeQueryResult.match(g))return delete o[g.payload.queryCacheKey],!0;if(n.pending.match(g)){let{meta:{arg:f,requestId:u}}=g,D=o[f.queryCacheKey]??={};return D[`${u}_running`]={},f.subscribe&&(D[u]=f.subscriptionOptions??D[u]??{}),!0}let E=!1;if(n.fulfilled.match(g)||n.rejected.match(g)){let f=o[g.meta.arg.queryCacheKey]||{},u=`${g.meta.requestId}_running`;E||=!!f[u],delete f[u]}if(n.rejected.match(g)){let{meta:{condition:f,arg:u,requestId:D}}=g;if(f&&u.subscribe){let l=o[u.queryCacheKey]??={};l[D]=u.subscriptionOptions??l[D]??{},E=!0}}return E},R=()=>p.currentSubscriptions,x={getSubscriptions:R,getSubscriptionCount:o=>{let E=R()[o]??{};return V(E)},isRequestSubscribed:(o,g)=>!!R()?.[o]?.[g]};return(o,g)=>{if(c||(c=JSON.parse(JSON.stringify(p.currentSubscriptions))),e.util.resetApiState.match(o))return c=p.currentSubscriptions={},S=null,[!0,!1];if(e.internalActions.internal_getRTKQSubscriptions.match(o))return[!1,x];let E=M(p.currentSubscriptions,o),f=!0;if(E){S||(S=setTimeout(()=>{let l=JSON.parse(JSON.stringify(p.currentSubscriptions)),[,y]=(0,ot.produceWithPatches)(c,()=>l);g.next(e.internalActions.subscriptionsUpdated(y)),c=l,S=null},500));let u=typeof o.type=="string"&&!!o.type.startsWith(T),D=n.rejected.match(o)&&o.meta.condition&&!!o.meta.arg.subscribe;f=!u&&!D}return[f,!1]}};function Ot(e){for(let n in e)return!1;return!0}var Nt=2147483647/1e3-1,ut=({reducerPath:e,api:n,queryThunk:p,context:T,internalState:c,selectors:{selectQueryEntry:S,selectConfig:A}})=>{let{removeQueryResult:I,unsubscribeQueryResult:M,cacheEntriesUpserted:R}=n.internalActions,b=(0,i.isAnyOf)(M.match,p.fulfilled,p.rejected,R.match);function h(f){let u=c.currentSubscriptions[f];return!!u&&!Ot(u)}let x={},o=(f,u,D)=>{let l=u.getState(),y=A(l);if(b(f)){let Q;if(R.match(f))Q=f.payload.map(d=>d.queryDescription.queryCacheKey);else{let{queryCacheKey:d}=M.match(f)?f.payload:f.meta.arg;Q=[d]}g(Q,u,y)}if(n.util.resetApiState.match(f))for(let[Q,d]of Object.entries(x))d&&clearTimeout(d),delete x[Q];if(T.hasRehydrationInfo(f)){let{queries:Q}=T.extractRehydrationInfo(f);g(Object.keys(Q),u,y)}};function g(f,u,D){let l=u.getState();for(let y of f){let Q=S(l,y);E(y,Q?.endpointName,u,D)}}function E(f,u,D,l){let Q=T.endpointDefinitions[u]?.keepUnusedDataFor??l.keepUnusedDataFor;if(Q===1/0)return;let d=Math.max(0,Math.min(Q,Nt));if(!h(f)){let r=x[f];r&&clearTimeout(r),x[f]=setTimeout(()=>{h(f)||D.dispatch(I({queryCacheKey:f})),delete x[f]},d*1e3)}}return o};var yt=new Error("Promise never resolved before cacheEntryRemoved."),dt=({api:e,reducerPath:n,context:p,queryThunk:T,mutationThunk:c,internalState:S,selectors:{selectQueryEntry:A,selectApiState:I}})=>{let M=(0,i.isAsyncThunkAction)(T),R=(0,i.isAsyncThunkAction)(c),b=(0,i.isFulfilled)(T,c),h={};function x(u,D,l){let y=h[u];y?.valueResolved&&(y.valueResolved({data:D,meta:l}),delete y.valueResolved)}function o(u){let D=h[u];D&&(delete h[u],D.cacheEntryRemoved())}let g=(u,D,l)=>{let y=E(u);function Q(d,r,t,s){let a=A(l,r),m=A(D.getState(),r);!a&&m&&f(d,s,r,D,t)}if(T.pending.match(u))Q(u.meta.arg.endpointName,y,u.meta.requestId,u.meta.arg.originalArgs);else if(e.internalActions.cacheEntriesUpserted.match(u))for(let{queryDescription:d,value:r}of u.payload){let{endpointName:t,originalArgs:s,queryCacheKey:a}=d;Q(t,a,u.meta.requestId,s),x(a,r,{})}else if(c.pending.match(u))D.getState()[n].mutations[y]&&f(u.meta.arg.endpointName,u.meta.arg.originalArgs,y,D,u.meta.requestId);else if(b(u))x(y,u.payload,u.meta.baseQueryMeta);else if(e.internalActions.removeQueryResult.match(u)||e.internalActions.removeMutationResult.match(u))o(y);else if(e.util.resetApiState.match(u))for(let d of Object.keys(h))o(d)};function E(u){return M(u)?u.meta.arg.queryCacheKey:R(u)?u.meta.arg.fixedCacheKey??u.meta.requestId:e.internalActions.removeQueryResult.match(u)?u.payload.queryCacheKey:e.internalActions.removeMutationResult.match(u)?X(u.payload):""}function f(u,D,l,y,Q){let d=p.endpointDefinitions[u],r=d?.onCacheEntryAdded;if(!r)return;let t={},s=new Promise(k=>{t.cacheEntryRemoved=k}),a=Promise.race([new Promise(k=>{t.valueResolved=k}),s.then(()=>{throw yt})]);a.catch(()=>{}),h[l]=t;let m=e.endpoints[u].select(d.type==="query"?D:l),P=y.dispatch((k,C,O)=>O),B={...y,getCacheEntry:()=>m(y.getState()),requestId:Q,extra:P,updateCachedData:d.type==="query"?k=>y.dispatch(e.util.updateQueryData(u,D,k)):void 0,cacheDataLoaded:a,cacheEntryRemoved:s},v=r(D,B);Promise.resolve(v).catch(k=>{if(k!==yt)throw k})}return g};var pt=({api:e,context:{apiUid:n},reducerPath:p})=>(T,c)=>{e.util.resetApiState.match(T)&&c.dispatch(e.internalActions.middlewareRegistered(n)),typeof process<"u"};var ct=({reducerPath:e,context:n,context:{endpointDefinitions:p},mutationThunk:T,queryThunk:c,api:S,assertTagType:A,refetchQuery:I,internalState:M})=>{let{removeQueryResult:R}=S.internalActions,b=(0,i.isAnyOf)((0,i.isFulfilled)(T),(0,i.isRejectedWithValue)(T)),h=(0,i.isAnyOf)((0,i.isFulfilled)(T,c),(0,i.isRejected)(T,c)),x=[],o=(f,u)=>{b(f)?E(he(f,"invalidatesTags",p,A),u):h(f)?E([],u):S.util.invalidateTags.match(f)&&E(oe(f.payload,void 0,void 0,void 0,void 0,A),u)};function g(f){let{queries:u,mutations:D}=f;for(let l of[u,D])for(let y in l)if(l[y]?.status==="pending")return!0;return!1}function E(f,u){let D=u.getState(),l=D[e];if(x.push(...f),l.config.invalidationBehavior==="delayed"&&g(l))return;let y=x;if(x=[],y.length===0)return;let Q=S.util.selectInvalidatedBy(D,y);n.batch(()=>{let d=Array.from(Q.values());for(let{queryCacheKey:r}of d){let t=l.queries[r],s=M.currentSubscriptions[r]??{};t&&(V(s)===0?u.dispatch(R({queryCacheKey:r})):t.status!=="uninitialized"&&u.dispatch(I(t)))}})}return o};var lt=({reducerPath:e,queryThunk:n,api:p,refetchQuery:T,internalState:c})=>{let S={},A=(o,g)=>{(p.internalActions.updateSubscriptionOptions.match(o)||p.internalActions.unsubscribeQueryResult.match(o))&&R(o.payload,g),(n.pending.match(o)||n.rejected.match(o)&&o.meta.condition)&&R(o.meta.arg,g),(n.fulfilled.match(o)||n.rejected.match(o)&&!o.meta.condition)&&M(o.meta.arg,g),p.util.resetApiState.match(o)&&h()};function I(o,g){let f=g.getState()[e].queries[o],u=c.currentSubscriptions[o];if(!(!f||f.status==="uninitialized"))return u}function M({queryCacheKey:o},g){let E=g.getState()[e],f=E.queries[o],u=c.currentSubscriptions[o];if(!f||f.status==="uninitialized")return;let{lowestPollingInterval:D,skipPollingIfUnfocused:l}=x(u);if(!Number.isFinite(D))return;let y=S[o];y?.timeout&&(clearTimeout(y.timeout),y.timeout=void 0);let Q=Date.now()+D;S[o]={nextPollTimestamp:Q,pollingInterval:D,timeout:setTimeout(()=>{(E.config.focused||!l)&&g.dispatch(T(f)),M({queryCacheKey:o},g)},D)}}function R({queryCacheKey:o},g){let f=g.getState()[e].queries[o],u=c.currentSubscriptions[o];if(!f||f.status==="uninitialized")return;let{lowestPollingInterval:D}=x(u);if(!Number.isFinite(D)){b(o);return}let l=S[o],y=Date.now()+D;(!l||y<l.nextPollTimestamp)&&M({queryCacheKey:o},g)}function b(o){let g=S[o];g?.timeout&&clearTimeout(g.timeout),delete S[o]}function h(){for(let o of Object.keys(S))b(o)}function x(o={}){let g=!1,E=Number.POSITIVE_INFINITY;for(let f in o)o[f].pollingInterval&&(E=Math.min(o[f].pollingInterval,E),g=o[f].skipPollingIfUnfocused||g);return{lowestPollingInterval:E,skipPollingIfUnfocused:g}}return A};var ft=({api:e,context:n,queryThunk:p,mutationThunk:T})=>{let c=(0,i.isPending)(p,T),S=(0,i.isRejected)(p,T),A=(0,i.isFulfilled)(p,T),I={};return(R,b)=>{if(c(R)){let{requestId:h,arg:{endpointName:x,originalArgs:o}}=R.meta,g=n.endpointDefinitions[x],E=g?.onQueryStarted;if(E){let f={},u=new Promise((Q,d)=>{f.resolve=Q,f.reject=d});u.catch(()=>{}),I[h]=f;let D=e.endpoints[x].select(g.type==="query"?o:h),l=b.dispatch((Q,d,r)=>r),y={...b,getCacheEntry:()=>D(b.getState()),requestId:h,extra:l,updateCachedData:g.type==="query"?Q=>b.dispatch(e.util.updateQueryData(x,o,Q)):void 0,queryFulfilled:u};E(o,y)}}else if(A(R)){let{requestId:h,baseQueryMeta:x}=R.meta;I[h]?.resolve({data:R.payload,meta:x}),delete I[h]}else if(S(R)){let{requestId:h,rejectedWithValue:x,baseQueryMeta:o}=R.meta;I[h]?.reject({error:R.payload??R.error,isUnhandledError:!x,meta:o}),delete I[h]}}};var mt=({reducerPath:e,context:n,api:p,refetchQuery:T,internalState:c})=>{let{removeQueryResult:S}=p.internalActions,A=(M,R)=>{J.match(M)&&I(R,"refetchOnFocus"),G.match(M)&&I(R,"refetchOnReconnect")};function I(M,R){let b=M.getState()[e],h=b.queries,x=c.currentSubscriptions;n.batch(()=>{for(let o of Object.keys(x)){let g=h[o],E=x[o];if(!E||!g)continue;(Object.values(E).some(u=>u[R]===!0)||Object.values(E).every(u=>u[R]===void 0)&&b.config[R])&&(V(E)===0?M.dispatch(S({queryCacheKey:o})):g.status!=="uninitialized"&&M.dispatch(T(g)))}})}return A};function gt(e){let{reducerPath:n,queryThunk:p,api:T,context:c}=e,{apiUid:S}=c,A={invalidateTags:(0,i.createAction)(`${n}/invalidateTags`)},I=h=>h.type.startsWith(`${n}/`),M=[pt,ut,ct,lt,dt,ft];return{middleware:h=>{let x=!1,g={...e,internalState:{currentSubscriptions:{}},refetchQuery:b,isThisApiSliceAction:I},E=M.map(D=>D(g)),f=st(g),u=mt(g);return D=>l=>{if(!(0,i.isAction)(l))return D(l);x||(x=!0,h.dispatch(T.internalActions.middlewareRegistered(S)));let y={...h,next:D},Q=h.getState(),[d,r]=f(l,y,Q),t;if(d?t=D(l):t=r,h.getState()[n]&&(u(l,y,Q),I(l)||c.hasRehydrationInfo(l)))for(let s of E)s(l,y,Q);return t}},actions:A};function b(h){return e.api.endpoints[h.endpointName].initiate(h.originalArgs,{subscribe:!1,forceRefetch:!0})}}var ce=Symbol(),Re=({createSelector:e=i.createSelector}={})=>({name:ce,init(n,{baseQuery:p,tagTypes:T,reducerPath:c,serializeQueryArgs:S,keepUnusedDataFor:A,refetchOnMountOrArgChange:I,refetchOnFocus:M,refetchOnReconnect:R,invalidationBehavior:b},h){(0,Qt.enablePatches)();let x=K=>(typeof process<"u",K);Object.assign(n,{reducerPath:c,endpoints:{},internalActions:{onOnline:G,onOffline:ee,onFocus:J,onFocusLost:Z},util:{}});let o=et({serializeQueryArgs:S,reducerPath:c,createSelector:e}),{selectInvalidatedBy:g,selectCachedArgsForQuery:E,buildQuerySelector:f,buildInfiniteQuerySelector:u,buildMutationSelector:D}=o;W(n.util,{selectInvalidatedBy:g,selectCachedArgsForQuery:E});let{queryThunk:l,infiniteQueryThunk:y,mutationThunk:Q,patchQueryData:d,updateQueryData:r,upsertQueryData:t,prefetch:s,buildMatchThunkActions:a}=We({baseQuery:p,reducerPath:c,context:h,api:n,serializeQueryArgs:S,assertTagType:x,selectors:o}),{reducer:m,actions:P}=Ge({context:h,queryThunk:l,infiniteQueryThunk:y,mutationThunk:Q,serializeQueryArgs:S,reducerPath:c,assertTagType:x,config:{refetchOnFocus:M,refetchOnReconnect:R,refetchOnMountOrArgChange:I,keepUnusedDataFor:A,reducerPath:c,invalidationBehavior:b}});W(n.util,{patchQueryData:d,updateQueryData:r,upsertQueryData:t,prefetch:s,resetApiState:P.resetApiState,upsertQueryEntries:P.cacheEntriesUpserted}),W(n.internalActions,P);let{middleware:B,actions:v}=gt({reducerPath:c,context:h,queryThunk:l,mutationThunk:Q,infiniteQueryThunk:y,api:n,assertTagType:x,selectors:o});W(n.util,v),W(n,{reducer:m,middleware:B});let{buildInitiateQuery:k,buildInitiateInfiniteQuery:C,buildInitiateMutation:O,getRunningMutationThunk:w,getRunningMutationsThunk:L,getRunningQueriesThunk:j,getRunningQueryThunk:H}=ze({queryThunk:l,mutationThunk:Q,infiniteQueryThunk:y,api:n,serializeQueryArgs:S,context:h});return W(n.util,{getRunningMutationThunk:w,getRunningMutationsThunk:L,getRunningQueryThunk:H,getRunningQueriesThunk:j}),{name:ce,injectEndpoint(K,q){let F=n,N=F.endpoints[K]??={};te(q)&&W(N,{name:K,select:f(K,q),initiate:k(K,q)},a(l,K)),_e(q)&&W(N,{name:K,select:D(),initiate:O(K)},a(Q,K)),ne(q)&&W(N,{name:K,select:u(K,q),initiate:C(K,q)},a(l,K))}}}});var Tt=xe(Re());0&&(module.exports={QueryStatus,_NEVER,buildCreateApi,copyWithStructuralSharing,coreModule,coreModuleName,createApi,defaultSerializeQueryArgs,fakeBaseQuery,fetchBaseQuery,retry,setupListeners,skipToken});
//# sourceMappingURL=rtk-query.production.min.cjs.map