var Ce=(c=>(c.uninitialized="uninitialized",c.pending="pending",c.fulfilled="fulfilled",c.rejected="rejected",c))(Ce||{});function ve(e){return{status:e,isUninitialized:e==="uninitialized",isLoading:e==="pending",isSuccess:e==="fulfilled",isError:e==="rejected"}}import{createAction as $,createSlice as Z,createSelector as je,createAsyncThunk as Fe,combineReducers as He,createNextState as ce,isAnyOf as ee,isAllOf as Qe,isAction as _e,isPending as Te,isRejected as re,isFulfilled as H,isRejectedWithValue as ie,isAsyncThunkAction as we,prepareAutoBatched as ae,SHOULD_AUTOBATCH as he,isPlainObject as G,nanoid as Ae}from"@reduxjs/toolkit";var Ve=G;function xe(e,r){if(e===r||!(Ve(e)&&Ve(r)||Array.isArray(e)&&Array.isArray(r)))return r;let p=Object.keys(r),T=Object.keys(e),c=p.length===T.length,D=Array.isArray(r)?[]:{};for(let h of p)D[h]=xe(e[h],r[h]),c&&(c=e[h]===D[h]);return c?e:D}function V(e){let r=0;for(let p in e)r++;return r}var Oe=e=>[].concat(...e);function ze(e){return new RegExp("(^|:)//").test(e)}function We(){return typeof document>"u"?!0:document.visibilityState!=="hidden"}function te(e){return e!=null}function $e(){return typeof navigator>"u"||navigator.onLine===void 0?!0:navigator.onLine}var bt=e=>e.replace(/\/$/,""),Pt=e=>e.replace(/^\//,"");function Je(e,r){if(!e)return r;if(!r)return e;if(ze(r))return r;let p=e.endsWith("/")||!r.startsWith("?")?"/":"";return e=bt(e),r=Pt(r),`${e}${p}${r}`}function Ge(e,r,p){return e.has(r)?e.get(r):e.set(r,p).get(r)}var Ye=(...e)=>fetch(...e),Et=e=>e.status>=200&&e.status<=299,It=e=>/ion\/(vnd\.api\+)?json/.test(e.get("content-type")||"");function Xe(e){if(!G(e))return e;let r={...e};for(let[p,T]of Object.entries(r))T===void 0&&delete r[p];return r}function kt({baseUrl:e,prepareHeaders:r=Q=>Q,fetchFn:p=Ye,paramsSerializer:T,isJsonContentType:c=It,jsonContentType:D="application/json",jsonReplacer:h,timeout:E,responseHandler:k,validateStatus:x,...S}={}){return typeof fetch>"u"&&p===Ye&&console.warn("Warning: `fetch` is not available. Please supply a custom `fetchFn` property to use `fetchBaseQuery` on SSR environments."),async(A,a,m)=>{let{getState:P,extra:l,endpoint:s,forced:R,type:d}=a,u,{url:g,headers:y=new Headers(S.headers),params:n=void 0,responseHandler:t=k??"json",validateStatus:o=x??Et,timeout:i=E,...f}=typeof A=="string"?{url:A}:A,b,M=a.signal;i&&(b=new AbortController,a.signal.addEventListener("abort",b.abort),M=b.signal);let C={...S,signal:M,...f};y=new Headers(Xe(y)),C.headers=await r(y,{getState:P,arg:A,extra:l,endpoint:s,forced:R,type:d,extraOptions:m})||y;let I=v=>typeof v=="object"&&(G(v)||Array.isArray(v)||typeof v.toJSON=="function");if(!C.headers.has("content-type")&&I(C.body)&&C.headers.set("content-type",D),I(C.body)&&c(C.headers)&&(C.body=JSON.stringify(C.body,h)),n){let v=~g.indexOf("?")?"&":"?",O=T?T(n):new URLSearchParams(Xe(n));g+=v+O}g=Je(e,g);let B=new Request(g,C);u={request:new Request(g,C)};let F,U=!1,L=b&&setTimeout(()=>{U=!0,b.abort()},i);try{F=await p(B)}catch(v){return{error:{status:U?"TIMEOUT_ERROR":"FETCH_ERROR",error:String(v)},meta:u}}finally{L&&clearTimeout(L),b?.signal.removeEventListener("abort",b.abort)}let j=F.clone();u.response=j;let q,N="";try{let v;if(await Promise.all([Q(F,t).then(O=>q=O,O=>v=O),j.text().then(O=>N=O,()=>{})]),v)throw v}catch(v){return{error:{status:"PARSING_ERROR",originalStatus:F.status,data:N,error:String(v)},meta:u}}return o(F,q)?{data:q,meta:u}:{error:{status:F.status,data:q},meta:u}};async function Q(A,a){if(typeof a=="function")return a(A);if(a==="content-type"&&(a=c(A.headers)?"json":"text"),a==="json"){let m=await A.text();return m.length?JSON.parse(m):null}return A.text()}}var z=class{constructor(r,p=void 0){this.value=r;this.meta=p}};async function Mt(e=0,r=5){let p=Math.min(e,r),T=~~((Math.random()+.4)*(300<<p));await new Promise(c=>setTimeout(D=>c(D),T))}function Bt(e,r){throw Object.assign(new z({error:e,meta:r}),{throwImmediately:!0})}var Ze={},Ct=(e,r)=>async(p,T,c)=>{let D=[5,(r||Ze).maxRetries,(c||Ze).maxRetries].filter(S=>S!==void 0),[h]=D.slice(-1),k={maxRetries:h,backoff:Mt,retryCondition:(S,Q,{attempt:A})=>A<=h,...r,...c},x=0;for(;;)try{let S=await e(p,T,c);if(S.error)throw new z(S);return S}catch(S){if(x++,S.throwImmediately){if(S instanceof z)return S.value;throw S}if(S instanceof z&&!k.retryCondition(S.value.error,p,{attempt:x,baseQueryApi:T,extraOptions:c}))return S.value;await k.backoff(x,k.maxRetries)}},vt=Object.assign(Ct,{fail:Bt});var Y=$("__rtkq/focused"),oe=$("__rtkq/unfocused"),X=$("__rtkq/online"),se=$("__rtkq/offline"),Ne=!1;function Ft(e,r){function p(){let T=()=>e(Y()),c=()=>e(oe()),D=()=>e(X()),h=()=>e(se()),E=()=>{window.document.visibilityState==="visible"?T():c()};return Ne||typeof window<"u"&&window.addEventListener&&(window.addEventListener("visibilitychange",E,!1),window.addEventListener("focus",T,!1),window.addEventListener("online",D,!1),window.addEventListener("offline",h,!1),Ne=!0),()=>{window.removeEventListener("focus",T),window.removeEventListener("visibilitychange",E),window.removeEventListener("online",D),window.removeEventListener("offline",h),Ne=!1}}return r?r(e,{onFocus:Y,onFocusLost:oe,onOffline:se,onOnline:X}):p()}function ue(e){return e.type==="query"}function et(e){return e.type==="mutation"}function ye(e){return e.type==="infinitequery"}function le(e,r,p,T,c,D){return wt(e)?e(r,p,T,c).filter(te).map(Re).map(D):Array.isArray(e)?e.map(Re).map(D):[]}function wt(e){return typeof e=="function"}function Re(e){return typeof e=="string"?{type:e}:e}import{isDraftable as Ot,produceWithPatches as Nt}from"immer";import"@reduxjs/toolkit";function tt(e,r){return e.catch(r)}var de=Symbol("forceQueryFn"),fe=e=>typeof e[de]=="function";function nt({serializeQueryArgs:e,queryThunk:r,infiniteQueryThunk:p,mutationThunk:T,api:c,context:D}){let h=new Map,E=new Map,{unsubscribeQueryResult:k,removeMutationResult:x,updateSubscriptionOptions:S}=c.internalActions;return{buildInitiateQuery:s,buildInitiateInfiniteQuery:R,buildInitiateMutation:d,getRunningQueryThunk:Q,getRunningMutationThunk:A,getRunningQueriesThunk:a,getRunningMutationsThunk:m};function Q(u,g){return y=>{let n=D.endpointDefinitions[u],t=e({queryArgs:g,endpointDefinition:n,endpointName:u});return h.get(y)?.[t]}}function A(u,g){return y=>E.get(y)?.[g]}function a(){return u=>Object.values(h.get(u)||{}).filter(te)}function m(){return u=>Object.values(E.get(u)||{}).filter(te)}function P(u){}function l(u,g){let y=(n,{subscribe:t=!0,forceRefetch:o,subscriptionOptions:i,[de]:f,...b}={})=>(M,C)=>{let I=e({queryArgs:n,endpointDefinition:g,endpointName:u}),B,w={...b,type:"query",subscribe:t,forceRefetch:o,subscriptionOptions:i,endpointName:u,originalArgs:n,queryCacheKey:I,[de]:f};if(ue(g))B=r(w);else{let{direction:K,initialPageParam:pe}=b;B=p({...w,direction:K,initialPageParam:pe})}let F=c.endpoints[u].select(n),U=M(B),L=F(C());let{requestId:j,abort:q}=U,N=L.requestId!==j,v=h.get(M)?.[I],O=()=>F(C()),_=Object.assign(f?U.then(O):N&&!v?Promise.resolve(L):Promise.all([v,U]).then(O),{arg:n,requestId:j,subscriptionOptions:i,queryCacheKey:I,abort:q,async unwrap(){let K=await _;if(K.isError)throw K.error;return K.data},refetch:()=>M(y(n,{subscribe:!1,forceRefetch:!0})),unsubscribe(){t&&M(k({queryCacheKey:I,requestId:j}))},updateSubscriptionOptions(K){_.subscriptionOptions=K,M(S({endpointName:u,requestId:j,queryCacheKey:I,options:K}))}});if(!v&&!N&&!f){let K=Ge(h,M,{});K[I]=_,_.then(()=>{delete K[I],V(K)||h.delete(M)})}return _};return y}function s(u,g){return l(u,g)}function R(u,g){return l(u,g)}function d(u){return(g,{track:y=!0,fixedCacheKey:n}={})=>(t,o)=>{let i=T({type:"mutation",endpointName:u,originalArgs:g,track:y,fixedCacheKey:n}),f=t(i);let{requestId:b,abort:M,unwrap:C}=f,I=tt(f.unwrap().then(U=>({data:U})),U=>({error:U})),B=()=>{t(x({requestId:b,fixedCacheKey:n}))},w=Object.assign(I,{arg:f.arg,requestId:b,abort:M,unwrap:C,reset:B}),F=E.get(t)||{};return E.set(t,F),F[b]=w,w.then(()=>{delete F[b],V(F)||E.delete(t)}),n&&(F[n]=w,w.then(()=>{F[n]===w&&(delete F[n],V(F)||E.delete(t))})),w}}}function qt(e){return e}var De=(e={})=>({...e,[he]:!0});function rt({reducerPath:e,baseQuery:r,context:{endpointDefinitions:p},serializeQueryArgs:T,api:c,assertTagType:D,selectors:h}){let E=(t,o,i,f)=>(b,M)=>{let C=p[t],I=T({queryArgs:o,endpointDefinition:C,endpointName:t});if(b(c.internalActions.queryResultPatched({queryCacheKey:I,patches:i})),!f)return;let B=c.endpoints[t].select(o)(M()),w=le(C.providesTags,B.data,void 0,o,{},D);b(c.internalActions.updateProvidedBy({queryCacheKey:I,providedTags:w}))};function k(t,o,i=0){let f=[o,...t];return i&&f.length>i?f.slice(0,-1):f}function x(t,o,i=0){let f=[...t,o];return i&&f.length>i?f.slice(1):f}let S=(t,o,i,f=!0)=>(b,M)=>{let I=c.endpoints[t].select(o)(M()),B={patches:[],inversePatches:[],undo:()=>b(c.util.patchQueryData(t,o,B.inversePatches,f))};if(I.status==="uninitialized")return B;let w;if("data"in I)if(Ot(I.data)){let[F,U,L]=Nt(I.data,i);B.patches.push(...U),B.inversePatches.push(...L),w=F}else w=i(I.data),B.patches.push({op:"replace",path:[],value:w}),B.inversePatches.push({op:"replace",path:[],value:I.data});return B.patches.length===0||b(c.util.patchQueryData(t,o,B.patches,f)),B},Q=(t,o,i)=>f=>f(c.endpoints[t].initiate(o,{subscribe:!1,forceRefetch:!0,[de]:()=>({data:i})})),A=(t,o)=>t.query&&t[o]?t[o]:qt,a=async(t,{signal:o,abort:i,rejectWithValue:f,fulfillWithValue:b,dispatch:M,getState:C,extra:I})=>{let B=p[t.endpointName];try{let w=A(B,"transformResponse"),F={signal:o,abort:i,dispatch:M,getState:C,extra:I,endpoint:t.endpointName,type:t.type,forced:t.type==="query"?m(t,C()):void 0,queryCacheKey:t.type==="query"?t.queryCacheKey:void 0},U=t.type==="query"?t[de]:void 0,L,j=async(N,v,O,_)=>{if(v==null&&N.pages.length)return Promise.resolve({data:N});let K={queryArg:t.originalArgs,pageParam:v},pe=await q(K),J=_?k:x;return{data:{pages:J(N.pages,pe.data,O),pageParams:J(N.pageParams,v,O)}}};async function q(N){let v,{extraOptions:O}=B;if(U?v=U():B.query?v=await r(B.query(N),F,O):v=await B.queryFn(N,F,O,K=>r(K,F,O)),typeof process<"u",v.error)throw new z(v.error,v.meta);let _=await w(v.data,v.meta,N);return{...v,data:_}}if(t.type==="query"&&"infiniteQueryOptions"in B){let{infiniteQueryOptions:N}=B,{maxPages:v=1/0}=N,O,_={pages:[],pageParams:[]},K=h.selectQueryEntry(C(),t.queryCacheKey)?.data,J=m(t,C())&&!t.direction||!K?_:K;if("direction"in t&&t.direction&&J.pages.length){let ge=t.direction==="backward",Be=(ge?qe:Se)(N,J);O=await j(J,Be,v,ge)}else{let{initialPageParam:ge=N.initialPageParam}=t,Me=K?.pageParams??[],Be=Me[0]??ge,Dt=Me.length;O=await j(J,Be,v),U&&(O={data:O.data.pages[0]});for(let Le=1;Le<Dt;Le++){let St=Se(N,O.data);O=await j(O.data,St,v)}}L=O}else L=await q(t.originalArgs);return b(L.data,De({fulfilledTimeStamp:Date.now(),baseQueryMeta:L.meta}))}catch(w){let F=w;if(F instanceof z){let U=A(B,"transformErrorResponse");try{return f(await U(F.value,F.meta,t.originalArgs),De({baseQueryMeta:F.meta}))}catch(L){F=L}}throw typeof process<"u",console.error(F),F}};function m(t,o){let i=h.selectQueryEntry(o,t.queryCacheKey),f=h.selectConfig(o).refetchOnMountOrArgChange,b=i?.fulfilledTimeStamp,M=t.forceRefetch??(t.subscribe&&f);return M?M===!0||(Number(new Date)-Number(b))/1e3>=M:!1}let P=()=>Fe(`${e}/executeQuery`,a,{getPendingMeta({arg:o}){let i=p[o.endpointName];return De({startedTimeStamp:Date.now(),...ye(i)?{direction:o.direction}:{}})},condition(o,{getState:i}){let f=i(),b=h.selectQueryEntry(f,o.queryCacheKey),M=b?.fulfilledTimeStamp,C=o.originalArgs,I=b?.originalArgs,B=p[o.endpointName],w=o.direction;return fe(o)?!0:b?.status==="pending"?!1:m(o,f)||ue(B)&&B?.forceRefetch?.({currentArg:C,previousArg:I,endpointState:b,state:f})?!0:!(M&&!w)},dispatchConditionRejection:!0}),l=P(),s=P(),R=Fe(`${e}/executeMutation`,a,{getPendingMeta(){return De({startedTimeStamp:Date.now()})}}),d=t=>"force"in t,u=t=>"ifOlderThan"in t,g=(t,o,i)=>(f,b)=>{let M=d(i)&&i.force,C=u(i)&&i.ifOlderThan,I=(w=!0)=>{let F={forceRefetch:w,isPrefetch:!0};return c.endpoints[t].initiate(o,F)},B=c.endpoints[t].select(o)(b());if(M)f(I());else if(C){let w=B?.fulfilledTimeStamp;if(!w){f(I());return}(Number(new Date)-Number(new Date(w)))/1e3>=C&&f(I())}else f(I(!1))};function y(t){return o=>o?.meta?.arg?.endpointName===t}function n(t,o){return{matchPending:Qe(Te(t),y(o)),matchFulfilled:Qe(H(t),y(o)),matchRejected:Qe(re(t),y(o))}}return{queryThunk:l,mutationThunk:R,infiniteQueryThunk:s,prefetch:g,updateQueryData:S,upsertQueryData:Q,patchQueryData:E,buildMatchThunkActions:n}}function Se(e,{pages:r,pageParams:p}){let T=r.length-1;return e.getNextPageParam(r[T],r,p[T],p)}function qe(e,{pages:r,pageParams:p}){return e.getPreviousPageParam?.(r[0],r,p[0],p)}function be(e,r,p,T){return le(p[e.meta.arg.endpointName][r],H(e)?e.payload:void 0,ie(e)?e.payload:void 0,e.meta.arg.originalArgs,"baseQueryMeta"in e.meta?e.meta.baseQueryMeta:void 0,T)}import{isDraft as Kt}from"immer";import{applyPatches as it,original as Ut}from"immer";function Pe(e,r,p){let T=e[r];T&&p(T)}function ne(e){return("arg"in e?e.arg.fixedCacheKey:e.fixedCacheKey)??e.requestId}function at(e,r,p){let T=e[ne(r)];T&&p(T)}var me={};function ot({reducerPath:e,queryThunk:r,mutationThunk:p,serializeQueryArgs:T,context:{endpointDefinitions:c,apiUid:D,extractRehydrationInfo:h,hasRehydrationInfo:E},assertTagType:k,config:x}){let S=$(`${e}/resetApiState`);function Q(y,n,t,o){y[n.queryCacheKey]??={status:"uninitialized",endpointName:n.endpointName},Pe(y,n.queryCacheKey,i=>{i.status="pending",i.requestId=t&&i.requestId?i.requestId:o.requestId,n.originalArgs!==void 0&&(i.originalArgs=n.originalArgs),i.startedTimeStamp=o.startedTimeStamp;let f=c[o.arg.endpointName];ye(f)&&"direction"in n&&(i.direction=n.direction)})}function A(y,n,t,o){Pe(y,n.arg.queryCacheKey,i=>{if(i.requestId!==n.requestId&&!o)return;let{merge:f}=c[n.arg.endpointName];if(i.status="fulfilled",f)if(i.data!==void 0){let{fulfilledTimeStamp:b,arg:M,baseQueryMeta:C,requestId:I}=n,B=ce(i.data,w=>f(w,t,{arg:M.originalArgs,baseQueryMeta:C,fulfilledTimeStamp:b,requestId:I}));i.data=B}else i.data=t;else i.data=c[n.arg.endpointName].structuralSharing??!0?xe(Kt(i.data)?Ut(i.data):i.data,t):t;delete i.error,i.fulfilledTimeStamp=n.fulfilledTimeStamp})}let a=Z({name:`${e}/queries`,initialState:me,reducers:{removeQueryResult:{reducer(y,{payload:{queryCacheKey:n}}){delete y[n]},prepare:ae()},cacheEntriesUpserted:{reducer(y,n){for(let t of n.payload){let{queryDescription:o,value:i}=t;Q(y,o,!0,{arg:o,requestId:n.meta.requestId,startedTimeStamp:n.meta.timestamp}),A(y,{arg:o,requestId:n.meta.requestId,fulfilledTimeStamp:n.meta.timestamp,baseQueryMeta:{}},i,!0)}},prepare:y=>({payload:y.map(o=>{let{endpointName:i,arg:f,value:b}=o,M=c[i];return{queryDescription:{type:"query",endpointName:i,originalArgs:o.arg,queryCacheKey:T({queryArgs:f,endpointDefinition:M,endpointName:i})},value:b}}),meta:{[he]:!0,requestId:Ae(),timestamp:Date.now()}})},queryResultPatched:{reducer(y,{payload:{queryCacheKey:n,patches:t}}){Pe(y,n,o=>{o.data=it(o.data,t.concat())})},prepare:ae()}},extraReducers(y){y.addCase(r.pending,(n,{meta:t,meta:{arg:o}})=>{let i=fe(o);Q(n,o,i,t)}).addCase(r.fulfilled,(n,{meta:t,payload:o})=>{let i=fe(t.arg);A(n,t,o,i)}).addCase(r.rejected,(n,{meta:{condition:t,arg:o,requestId:i},error:f,payload:b})=>{Pe(n,o.queryCacheKey,M=>{if(!t){if(M.requestId!==i)return;M.status="rejected",M.error=b??f}})}).addMatcher(E,(n,t)=>{let{queries:o}=h(t);for(let[i,f]of Object.entries(o))(f?.status==="fulfilled"||f?.status==="rejected")&&(n[i]=f)})}}),m=Z({name:`${e}/mutations`,initialState:me,reducers:{removeMutationResult:{reducer(y,{payload:n}){let t=ne(n);t in y&&delete y[t]},prepare:ae()}},extraReducers(y){y.addCase(p.pending,(n,{meta:t,meta:{requestId:o,arg:i,startedTimeStamp:f}})=>{i.track&&(n[ne(t)]={requestId:o,status:"pending",endpointName:i.endpointName,startedTimeStamp:f})}).addCase(p.fulfilled,(n,{payload:t,meta:o})=>{o.arg.track&&at(n,o,i=>{i.requestId===o.requestId&&(i.status="fulfilled",i.data=t,i.fulfilledTimeStamp=o.fulfilledTimeStamp)})}).addCase(p.rejected,(n,{payload:t,error:o,meta:i})=>{i.arg.track&&at(n,i,f=>{f.requestId===i.requestId&&(f.status="rejected",f.error=t??o)})}).addMatcher(E,(n,t)=>{let{mutations:o}=h(t);for(let[i,f]of Object.entries(o))(f?.status==="fulfilled"||f?.status==="rejected")&&i!==f?.requestId&&(n[i]=f)})}}),P=Z({name:`${e}/invalidation`,initialState:me,reducers:{updateProvidedBy:{reducer(y,n){let{queryCacheKey:t,providedTags:o}=n.payload;for(let i of Object.values(y))for(let f of Object.values(i)){let b=f.indexOf(t);b!==-1&&f.splice(b,1)}for(let{type:i,id:f}of o){let b=(y[i]??={})[f||"__internal_without_id"]??=[];b.includes(t)||b.push(t)}},prepare:ae()}},extraReducers(y){y.addCase(a.actions.removeQueryResult,(n,{payload:{queryCacheKey:t}})=>{for(let o of Object.values(n))for(let i of Object.values(o)){let f=i.indexOf(t);f!==-1&&i.splice(f,1)}}).addMatcher(E,(n,t)=>{let{provided:o}=h(t);for(let[i,f]of Object.entries(o))for(let[b,M]of Object.entries(f)){let C=(n[i]??={})[b||"__internal_without_id"]??=[];for(let I of M)C.includes(I)||C.push(I)}}).addMatcher(ee(H(r),ie(r)),(n,t)=>{let o=be(t,"providesTags",c,k),{queryCacheKey:i}=t.meta.arg;P.caseReducers.updateProvidedBy(n,P.actions.updateProvidedBy({queryCacheKey:i,providedTags:o}))})}}),l=Z({name:`${e}/subscriptions`,initialState:me,reducers:{updateSubscriptionOptions(y,n){},unsubscribeQueryResult(y,n){},internal_getRTKQSubscriptions(){}}}),s=Z({name:`${e}/internalSubscriptions`,initialState:me,reducers:{subscriptionsUpdated:{reducer(y,n){return it(y,n.payload)},prepare:ae()}}}),R=Z({name:`${e}/config`,initialState:{online:$e(),focused:We(),middlewareRegistered:!1,...x},reducers:{middlewareRegistered(y,{payload:n}){y.middlewareRegistered=y.middlewareRegistered==="conflict"||D!==n?"conflict":!0}},extraReducers:y=>{y.addCase(X,n=>{n.online=!0}).addCase(se,n=>{n.online=!1}).addCase(Y,n=>{n.focused=!0}).addCase(oe,n=>{n.focused=!1}).addMatcher(E,n=>({...n}))}}),d=He({queries:a.reducer,mutations:m.reducer,provided:P.reducer,subscriptions:s.reducer,config:R.reducer}),u=(y,n)=>d(S.match(n)?void 0:y,n),g={...R.actions,...a.actions,...l.actions,...s.actions,...m.actions,...P.actions,resetApiState:S};return{reducer:u,actions:g}}var Ee=Symbol.for("RTKQ/skipToken"),yt={status:"uninitialized"},st=ce(yt,()=>{}),ut=ce(yt,()=>{});function dt({serializeQueryArgs:e,reducerPath:r,createSelector:p}){let T=d=>st,c=d=>ut;return{buildQuerySelector:A,buildInfiniteQuerySelector:a,buildMutationSelector:m,selectInvalidatedBy:P,selectCachedArgsForQuery:l,selectApiState:h,selectQueries:E,selectMutations:x,selectQueryEntry:k,selectConfig:S};function D(d){return{...d,...ve(d.status)}}function h(d){return d[r]}function E(d){return h(d)?.queries}function k(d,u){return E(d)?.[u]}function x(d){return h(d)?.mutations}function S(d){return h(d)?.config}function Q(d,u,g){return y=>{if(y===Ee)return p(T,g);let n=e({queryArgs:y,endpointDefinition:u,endpointName:d});return p(o=>k(o,n)??st,g)}}function A(d,u){return Q(d,u,D)}function a(d,u){let{infiniteQueryOptions:g}=u;function y(n){let t={...n,...ve(n.status)},{isLoading:o,isError:i,direction:f}=t,b=f==="forward",M=f==="backward";return{...t,hasNextPage:s(g,t.data),hasPreviousPage:R(g,t.data),isFetchingNextPage:o&&b,isFetchingPreviousPage:o&&M,isFetchNextPageError:i&&b,isFetchPreviousPageError:i&&M}}return Q(d,u,y)}function m(){return d=>{let u;return typeof d=="object"?u=ne(d)??Ee:u=d,p(u===Ee?c:n=>h(n)?.mutations?.[u]??ut,D)}}function P(d,u){let g=d[r],y=new Set;for(let n of u.filter(te).map(Re)){let t=g.provided[n.type];if(!t)continue;let o=(n.id!==void 0?t[n.id]:Oe(Object.values(t)))??[];for(let i of o)y.add(i)}return Oe(Array.from(y.values()).map(n=>{let t=g.queries[n];return t?[{queryCacheKey:n,endpointName:t.endpointName,originalArgs:t.originalArgs}]:[]}))}function l(d,u){return Object.values(E(d)).filter(g=>g?.endpointName===u&&g.status!=="uninitialized").map(g=>g.originalArgs)}function s(d,u){return u?Se(d,u)!=null:!1}function R(d,u){return!u||!d.getPreviousPageParam?!1:qe(d,u)!=null}}import{formatProdErrorMessage as Lt}from"@reduxjs/toolkit";var pt=WeakMap?new WeakMap:void 0,Ie=({endpointName:e,queryArgs:r})=>{let p="",T=pt?.get(r);if(typeof T=="string")p=T;else{let c=JSON.stringify(r,(D,h)=>(h=typeof h=="bigint"?{$bigint:h.toString()}:h,h=G(h)?Object.keys(h).sort().reduce((E,k)=>(E[k]=h[k],E),{}):h,h));G(r)&&pt?.set(r,c),p=c}return`${e}(${p})`};import{weakMapMemoize as ct}from"reselect";function Ke(...e){return function(p){let T=ct(x=>p.extractRehydrationInfo?.(x,{reducerPath:p.reducerPath??"api"})),c={reducerPath:"api",keepUnusedDataFor:60,refetchOnMountOrArgChange:!1,refetchOnFocus:!1,refetchOnReconnect:!1,invalidationBehavior:"delayed",...p,extractRehydrationInfo:T,serializeQueryArgs(x){let S=Ie;if("serializeQueryArgs"in x.endpointDefinition){let Q=x.endpointDefinition.serializeQueryArgs;S=A=>{let a=Q(A);return typeof a=="string"?a:Ie({...A,queryArgs:a})}}else p.serializeQueryArgs&&(S=p.serializeQueryArgs);return S(x)},tagTypes:[...p.tagTypes||[]]},D={endpointDefinitions:{},batch(x){x()},apiUid:Ae(),extractRehydrationInfo:T,hasRehydrationInfo:ct(x=>T(x)!=null)},h={injectEndpoints:k,enhanceEndpoints({addTagTypes:x,endpoints:S}){if(x)for(let Q of x)c.tagTypes.includes(Q)||c.tagTypes.push(Q);if(S)for(let[Q,A]of Object.entries(S))typeof A=="function"?A(D.endpointDefinitions[Q]):Object.assign(D.endpointDefinitions[Q]||{},A);return h}},E=e.map(x=>x.init(h,c,D));function k(x){let S=x.endpoints({query:Q=>({...Q,type:"query"}),mutation:Q=>({...Q,type:"mutation"}),infiniteQuery:Q=>({...Q,type:"infinitequery"})});for(let[Q,A]of Object.entries(S)){if(x.overrideExisting!==!0&&Q in D.endpointDefinitions){if(x.overrideExisting==="throw")throw new Error(Lt(39));typeof process<"u";continue}typeof process<"u",D.endpointDefinitions[Q]=A;for(let a of E)a.injectEndpoint(Q,A)}return h}return h.injectEndpoints({endpoints:p.endpoints})}}import{formatProdErrorMessage as jt}from"@reduxjs/toolkit";var Ht=Symbol();function _t(){return function(){throw new Error(jt(33))}}import{enablePatches as $t}from"immer";function W(e,...r){return Object.assign(e,...r)}import{produceWithPatches as Vt}from"immer";var lt=({api:e,queryThunk:r,internalState:p})=>{let T=`${e.reducerPath}/subscriptions`,c=null,D=null,{updateSubscriptionOptions:h,unsubscribeQueryResult:E}=e.internalActions,k=(a,m)=>{if(h.match(m)){let{queryCacheKey:l,requestId:s,options:R}=m.payload;return a?.[l]?.[s]&&(a[l][s]=R),!0}if(E.match(m)){let{queryCacheKey:l,requestId:s}=m.payload;return a[l]&&delete a[l][s],!0}if(e.internalActions.removeQueryResult.match(m))return delete a[m.payload.queryCacheKey],!0;if(r.pending.match(m)){let{meta:{arg:l,requestId:s}}=m,R=a[l.queryCacheKey]??={};return R[`${s}_running`]={},l.subscribe&&(R[s]=l.subscriptionOptions??R[s]??{}),!0}let P=!1;if(r.fulfilled.match(m)||r.rejected.match(m)){let l=a[m.meta.arg.queryCacheKey]||{},s=`${m.meta.requestId}_running`;P||=!!l[s],delete l[s]}if(r.rejected.match(m)){let{meta:{condition:l,arg:s,requestId:R}}=m;if(l&&s.subscribe){let d=a[s.queryCacheKey]??={};d[R]=s.subscriptionOptions??d[R]??{},P=!0}}return P},x=()=>p.currentSubscriptions,A={getSubscriptions:x,getSubscriptionCount:a=>{let P=x()[a]??{};return V(P)},isRequestSubscribed:(a,m)=>!!x()?.[a]?.[m]};return(a,m)=>{if(c||(c=JSON.parse(JSON.stringify(p.currentSubscriptions))),e.util.resetApiState.match(a))return c=p.currentSubscriptions={},D=null,[!0,!1];if(e.internalActions.internal_getRTKQSubscriptions.match(a))return[!1,A];let P=k(p.currentSubscriptions,a),l=!0;if(P){D||(D=setTimeout(()=>{let d=JSON.parse(JSON.stringify(p.currentSubscriptions)),[,u]=Vt(c,()=>d);m.next(e.internalActions.subscriptionsUpdated(u)),c=d,D=null},500));let s=typeof a.type=="string"&&!!a.type.startsWith(T),R=r.rejected.match(a)&&a.meta.condition&&!!a.meta.arg.subscribe;l=!s&&!R}return[l,!1]}};function zt(e){for(let r in e)return!1;return!0}var Wt=2147483647/1e3-1,ft=({reducerPath:e,api:r,queryThunk:p,context:T,internalState:c,selectors:{selectQueryEntry:D,selectConfig:h}})=>{let{removeQueryResult:E,unsubscribeQueryResult:k,cacheEntriesUpserted:x}=r.internalActions,S=ee(k.match,p.fulfilled,p.rejected,x.match);function Q(l){let s=c.currentSubscriptions[l];return!!s&&!zt(s)}let A={},a=(l,s,R)=>{let d=s.getState(),u=h(d);if(S(l)){let g;if(x.match(l))g=l.payload.map(y=>y.queryDescription.queryCacheKey);else{let{queryCacheKey:y}=k.match(l)?l.payload:l.meta.arg;g=[y]}m(g,s,u)}if(r.util.resetApiState.match(l))for(let[g,y]of Object.entries(A))y&&clearTimeout(y),delete A[g];if(T.hasRehydrationInfo(l)){let{queries:g}=T.extractRehydrationInfo(l);m(Object.keys(g),s,u)}};function m(l,s,R){let d=s.getState();for(let u of l){let g=D(d,u);P(u,g?.endpointName,s,R)}}function P(l,s,R,d){let g=T.endpointDefinitions[s]?.keepUnusedDataFor??d.keepUnusedDataFor;if(g===1/0)return;let y=Math.max(0,Math.min(g,Wt));if(!Q(l)){let n=A[l];n&&clearTimeout(n),A[l]=setTimeout(()=>{Q(l)||R.dispatch(E({queryCacheKey:l})),delete A[l]},y*1e3)}}return a};var mt=new Error("Promise never resolved before cacheEntryRemoved."),gt=({api:e,reducerPath:r,context:p,queryThunk:T,mutationThunk:c,internalState:D,selectors:{selectQueryEntry:h,selectApiState:E}})=>{let k=we(T),x=we(c),S=H(T,c),Q={};function A(s,R,d){let u=Q[s];u?.valueResolved&&(u.valueResolved({data:R,meta:d}),delete u.valueResolved)}function a(s){let R=Q[s];R&&(delete Q[s],R.cacheEntryRemoved())}let m=(s,R,d)=>{let u=P(s);function g(y,n,t,o){let i=h(d,n),f=h(R.getState(),n);!i&&f&&l(y,o,n,R,t)}if(T.pending.match(s))g(s.meta.arg.endpointName,u,s.meta.requestId,s.meta.arg.originalArgs);else if(e.internalActions.cacheEntriesUpserted.match(s))for(let{queryDescription:y,value:n}of s.payload){let{endpointName:t,originalArgs:o,queryCacheKey:i}=y;g(t,i,s.meta.requestId,o),A(i,n,{})}else if(c.pending.match(s))R.getState()[r].mutations[u]&&l(s.meta.arg.endpointName,s.meta.arg.originalArgs,u,R,s.meta.requestId);else if(S(s))A(u,s.payload,s.meta.baseQueryMeta);else if(e.internalActions.removeQueryResult.match(s)||e.internalActions.removeMutationResult.match(s))a(u);else if(e.util.resetApiState.match(s))for(let y of Object.keys(Q))a(y)};function P(s){return k(s)?s.meta.arg.queryCacheKey:x(s)?s.meta.arg.fixedCacheKey??s.meta.requestId:e.internalActions.removeQueryResult.match(s)?s.payload.queryCacheKey:e.internalActions.removeMutationResult.match(s)?ne(s.payload):""}function l(s,R,d,u,g){let y=p.endpointDefinitions[s],n=y?.onCacheEntryAdded;if(!n)return;let t={},o=new Promise(I=>{t.cacheEntryRemoved=I}),i=Promise.race([new Promise(I=>{t.valueResolved=I}),o.then(()=>{throw mt})]);i.catch(()=>{}),Q[d]=t;let f=e.endpoints[s].select(y.type==="query"?R:d),b=u.dispatch((I,B,w)=>w),M={...u,getCacheEntry:()=>f(u.getState()),requestId:g,extra:b,updateCachedData:y.type==="query"?I=>u.dispatch(e.util.updateQueryData(s,R,I)):void 0,cacheDataLoaded:i,cacheEntryRemoved:o},C=n(R,M);Promise.resolve(C).catch(I=>{if(I!==mt)throw I})}return m};var Qt=({api:e,context:{apiUid:r},reducerPath:p})=>(T,c)=>{e.util.resetApiState.match(T)&&c.dispatch(e.internalActions.middlewareRegistered(r)),typeof process<"u"};var Tt=({reducerPath:e,context:r,context:{endpointDefinitions:p},mutationThunk:T,queryThunk:c,api:D,assertTagType:h,refetchQuery:E,internalState:k})=>{let{removeQueryResult:x}=D.internalActions,S=ee(H(T),ie(T)),Q=ee(H(T,c),re(T,c)),A=[],a=(l,s)=>{S(l)?P(be(l,"invalidatesTags",p,h),s):Q(l)?P([],s):D.util.invalidateTags.match(l)&&P(le(l.payload,void 0,void 0,void 0,void 0,h),s)};function m(l){let{queries:s,mutations:R}=l;for(let d of[s,R])for(let u in d)if(d[u]?.status==="pending")return!0;return!1}function P(l,s){let R=s.getState(),d=R[e];if(A.push(...l),d.config.invalidationBehavior==="delayed"&&m(d))return;let u=A;if(A=[],u.length===0)return;let g=D.util.selectInvalidatedBy(R,u);r.batch(()=>{let y=Array.from(g.values());for(let{queryCacheKey:n}of y){let t=d.queries[n],o=k.currentSubscriptions[n]??{};t&&(V(o)===0?s.dispatch(x({queryCacheKey:n})):t.status!=="uninitialized"&&s.dispatch(E(t)))}})}return a};var ht=({reducerPath:e,queryThunk:r,api:p,refetchQuery:T,internalState:c})=>{let D={},h=(a,m)=>{(p.internalActions.updateSubscriptionOptions.match(a)||p.internalActions.unsubscribeQueryResult.match(a))&&x(a.payload,m),(r.pending.match(a)||r.rejected.match(a)&&a.meta.condition)&&x(a.meta.arg,m),(r.fulfilled.match(a)||r.rejected.match(a)&&!a.meta.condition)&&k(a.meta.arg,m),p.util.resetApiState.match(a)&&Q()};function E(a,m){let l=m.getState()[e].queries[a],s=c.currentSubscriptions[a];if(!(!l||l.status==="uninitialized"))return s}function k({queryCacheKey:a},m){let P=m.getState()[e],l=P.queries[a],s=c.currentSubscriptions[a];if(!l||l.status==="uninitialized")return;let{lowestPollingInterval:R,skipPollingIfUnfocused:d}=A(s);if(!Number.isFinite(R))return;let u=D[a];u?.timeout&&(clearTimeout(u.timeout),u.timeout=void 0);let g=Date.now()+R;D[a]={nextPollTimestamp:g,pollingInterval:R,timeout:setTimeout(()=>{(P.config.focused||!d)&&m.dispatch(T(l)),k({queryCacheKey:a},m)},R)}}function x({queryCacheKey:a},m){let l=m.getState()[e].queries[a],s=c.currentSubscriptions[a];if(!l||l.status==="uninitialized")return;let{lowestPollingInterval:R}=A(s);if(!Number.isFinite(R)){S(a);return}let d=D[a],u=Date.now()+R;(!d||u<d.nextPollTimestamp)&&k({queryCacheKey:a},m)}function S(a){let m=D[a];m?.timeout&&clearTimeout(m.timeout),delete D[a]}function Q(){for(let a of Object.keys(D))S(a)}function A(a={}){let m=!1,P=Number.POSITIVE_INFINITY;for(let l in a)a[l].pollingInterval&&(P=Math.min(a[l].pollingInterval,P),m=a[l].skipPollingIfUnfocused||m);return{lowestPollingInterval:P,skipPollingIfUnfocused:m}}return h};var At=({api:e,context:r,queryThunk:p,mutationThunk:T})=>{let c=Te(p,T),D=re(p,T),h=H(p,T),E={};return(x,S)=>{if(c(x)){let{requestId:Q,arg:{endpointName:A,originalArgs:a}}=x.meta,m=r.endpointDefinitions[A],P=m?.onQueryStarted;if(P){let l={},s=new Promise((g,y)=>{l.resolve=g,l.reject=y});s.catch(()=>{}),E[Q]=l;let R=e.endpoints[A].select(m.type==="query"?a:Q),d=S.dispatch((g,y,n)=>n),u={...S,getCacheEntry:()=>R(S.getState()),requestId:Q,extra:d,updateCachedData:m.type==="query"?g=>S.dispatch(e.util.updateQueryData(A,a,g)):void 0,queryFulfilled:s};P(a,u)}}else if(h(x)){let{requestId:Q,baseQueryMeta:A}=x.meta;E[Q]?.resolve({data:x.payload,meta:A}),delete E[Q]}else if(D(x)){let{requestId:Q,rejectedWithValue:A,baseQueryMeta:a}=x.meta;E[Q]?.reject({error:x.payload??x.error,isUnhandledError:!A,meta:a}),delete E[Q]}}};var xt=({reducerPath:e,context:r,api:p,refetchQuery:T,internalState:c})=>{let{removeQueryResult:D}=p.internalActions,h=(k,x)=>{Y.match(k)&&E(x,"refetchOnFocus"),X.match(k)&&E(x,"refetchOnReconnect")};function E(k,x){let S=k.getState()[e],Q=S.queries,A=c.currentSubscriptions;r.batch(()=>{for(let a of Object.keys(A)){let m=Q[a],P=A[a];if(!P||!m)continue;(Object.values(P).some(s=>s[x]===!0)||Object.values(P).every(s=>s[x]===void 0)&&S.config[x])&&(V(P)===0?k.dispatch(D({queryCacheKey:a})):m.status!=="uninitialized"&&k.dispatch(T(m)))}})}return h};function Rt(e){let{reducerPath:r,queryThunk:p,api:T,context:c}=e,{apiUid:D}=c,h={invalidateTags:$(`${r}/invalidateTags`)},E=Q=>Q.type.startsWith(`${r}/`),k=[Qt,ft,Tt,ht,gt,At];return{middleware:Q=>{let A=!1,m={...e,internalState:{currentSubscriptions:{}},refetchQuery:S,isThisApiSliceAction:E},P=k.map(R=>R(m)),l=lt(m),s=xt(m);return R=>d=>{if(!_e(d))return R(d);A||(A=!0,Q.dispatch(T.internalActions.middlewareRegistered(D)));let u={...Q,next:R},g=Q.getState(),[y,n]=l(d,u,g),t;if(y?t=R(d):t=n,Q.getState()[r]&&(s(d,u,g),E(d)||c.hasRehydrationInfo(d)))for(let o of P)o(d,u,g);return t}},actions:h};function S(Q){return e.api.endpoints[Q.endpointName].initiate(Q.originalArgs,{subscribe:!1,forceRefetch:!0})}}var ke=Symbol(),Ue=({createSelector:e=je}={})=>({name:ke,init(r,{baseQuery:p,tagTypes:T,reducerPath:c,serializeQueryArgs:D,keepUnusedDataFor:h,refetchOnMountOrArgChange:E,refetchOnFocus:k,refetchOnReconnect:x,invalidationBehavior:S},Q){$t();let A=q=>(typeof process<"u",q);Object.assign(r,{reducerPath:c,endpoints:{},internalActions:{onOnline:X,onOffline:se,onFocus:Y,onFocusLost:oe},util:{}});let a=dt({serializeQueryArgs:D,reducerPath:c,createSelector:e}),{selectInvalidatedBy:m,selectCachedArgsForQuery:P,buildQuerySelector:l,buildInfiniteQuerySelector:s,buildMutationSelector:R}=a;W(r.util,{selectInvalidatedBy:m,selectCachedArgsForQuery:P});let{queryThunk:d,infiniteQueryThunk:u,mutationThunk:g,patchQueryData:y,updateQueryData:n,upsertQueryData:t,prefetch:o,buildMatchThunkActions:i}=rt({baseQuery:p,reducerPath:c,context:Q,api:r,serializeQueryArgs:D,assertTagType:A,selectors:a}),{reducer:f,actions:b}=ot({context:Q,queryThunk:d,infiniteQueryThunk:u,mutationThunk:g,serializeQueryArgs:D,reducerPath:c,assertTagType:A,config:{refetchOnFocus:k,refetchOnReconnect:x,refetchOnMountOrArgChange:E,keepUnusedDataFor:h,reducerPath:c,invalidationBehavior:S}});W(r.util,{patchQueryData:y,updateQueryData:n,upsertQueryData:t,prefetch:o,resetApiState:b.resetApiState,upsertQueryEntries:b.cacheEntriesUpserted}),W(r.internalActions,b);let{middleware:M,actions:C}=Rt({reducerPath:c,context:Q,queryThunk:d,mutationThunk:g,infiniteQueryThunk:u,api:r,assertTagType:A,selectors:a});W(r.util,C),W(r,{reducer:f,middleware:M});let{buildInitiateQuery:I,buildInitiateInfiniteQuery:B,buildInitiateMutation:w,getRunningMutationThunk:F,getRunningMutationsThunk:U,getRunningQueriesThunk:L,getRunningQueryThunk:j}=nt({queryThunk:d,mutationThunk:g,infiniteQueryThunk:u,api:r,serializeQueryArgs:D,context:Q});return W(r.util,{getRunningMutationThunk:F,getRunningMutationsThunk:U,getRunningQueryThunk:j,getRunningQueriesThunk:L}),{name:ke,injectEndpoint(q,N){let v=r,O=v.endpoints[q]??={};ue(N)&&W(O,{name:q,select:l(q,N),initiate:I(q,N)},i(d,q)),et(N)&&W(O,{name:q,select:R(),initiate:w(q)},i(g,q)),ye(N)&&W(O,{name:q,select:s(q,N),initiate:B(q,N)},i(d,q))}}}});var Jt=Ke(Ue());export{Ce as QueryStatus,Ht as _NEVER,Ke as buildCreateApi,xe as copyWithStructuralSharing,Ue as coreModule,ke as coreModuleName,Jt as createApi,Ie as defaultSerializeQueryArgs,_t as fakeBaseQuery,kt as fetchBaseQuery,vt as retry,Ft as setupListeners,Ee as skipToken};
//# sourceMappingURL=rtk-query.browser.mjs.map